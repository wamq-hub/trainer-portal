<!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>ğŸ¯ Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <meta name="description" content="Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© ÙˆØ§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø¨Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠ">
      <meta name="keywords" content="TVTC, Ø¥Ø±Ø´Ø§Ø¯, ØªØ¯Ø±ÙŠØ¨, ØªÙ‚Ù†ÙŠ, Ù…Ù‡Ù†ÙŠ">
      
      <!-- PWA Manifest (Ù…Ø¶Ù…Ù†Ø©) -->
      <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoi2YXZhtiz2Kkg2KfZhNil2LHYtNin2K8g2KfZhNiq2K/YsdmK2KjZiCIsInNob3J0X25hbWUiOiLYo9ix2LTYp9ivIFRWVEMiLCJzdGFydF91cmwiOiIuIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJ0aGVtZV9jb2xvciI6IiMwMDcwQzAiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiI0YyRjJGMiJ9">
      <meta name="theme-color" content="#0070C0">


      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700;800&display=swap" rel="stylesheet">

      <link rel="icon" href="/icons/icon-192.png">
      <link rel="apple-touch-icon" href="/icons/icon-192.png">
      <meta name="theme-color" content="#0070C0">

        <style>
          /* Ø¥Ø®ÙØ§Ø¡: Ø£Ø±Ù‚Ø§Ù… ØªÙ‡Ù…Ùƒ + Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© + Ù…Ø¨Ø§Ø¯Ø±Ø© Ø±Ø§ÙØ¯ */
          #qi-nums,
          #qi-library,
          #qi-rafed {
            display: none !important;
          }
        </style>


      <style>
        :root{
          --primary-dark:#003366;   /* TVTC Ø§Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„ØºØ§Ù…Ù‚ */
          --primary:#0070C0;        /* TVTC Ø§Ù„Ø£Ø²Ø±Ù‚ */
          --secondary:#00ADEF;      /* TVTC Ø§Ù„Ø³Ù…Ø§ÙˆÙŠ */
          --text:#4D4D4D;
          --bg:#F2F2F2;
          --white:#fff;
          --ok:#51cf66; --warn:#ffd43b; --err:#ff6b6b;
          --shadow: 0 10px 30px rgba(0,0,0,.1);
          --shadow-hover: 0 15px 35px rgba(0,0,0,.15);
        }
        
        *{box-sizing:border-box}

        /* ÙØ§ØµÙ„ Ø¨Ø¹Ù†ÙˆØ§Ù† */
        .ui-sep{
          position:relative;
          margin:28px 0 14px;
          text-align:center;
        }
        .ui-sep::before{
          content:"";
          display:block;
          height:2px;
          background:linear-gradient(90deg, transparent, rgba(0,112,192,.35), rgba(0,173,239,.65), transparent);
          border-radius:2px;
        }
        .ui-sep .chip{
          position:relative;
          top:-14px;
          display:inline-block;
          padding:6px 14px;
          background:var(--white);
          color:var(--primary-dark);
          border:1px solid rgba(0,0,0,.06);
          border-radius:999px;
          font-weight:700;
          box-shadow:0 2px 8px rgba(0,0,0,.08);
          letter-spacing:.2px;
        }
        body.dark-mode .ui-sep .chip{
          background:#222;
          color:#cfe6ff;
          border-color:#333;
          box-shadow:0 2px 10px rgba(0,0,0,.35);
        }

        /* Ù…Ø³Ø§ÙØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ÙˆØ¶ÙˆØ­ */
        .panels-below{
          margin-top:10px;
        }

        body {
          font-family: 'Tajawal', system-ui, -apple-system, 'Segoe UI', Tahoma, Arial, sans-serif;
          background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
          color: var(--text);
          min-height: 100vh; margin:0; padding:20px;
          transition: background 0.3s ease, color .3s ease;
          overflow-x: hidden;
        }
        body.dark-mode { 
          background: linear-gradient(135deg,#1f1f1f,#2a2a2a); 
          color:#eee; 
        }

        .container {
          max-width: 900px; margin:auto; background:var(--white); padding:25px;
          border-radius:15px; box-shadow:var(--shadow);
          animation: slideInUp 0.6s ease-out;
        }
        body.dark-mode .container{ 
          background:#222; color:#eaeaea; 
          box-shadow:0 10px 30px rgba(0,0,0,.35);
        }

        /* Loading Overlay */
        .loading-overlay {
          position: fixed; top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(0, 112, 192, 0.9);
          display: none; align-items: center; justify-content: center;
          z-index: 9999; backdrop-filter: blur(10px);
        }
        .loading-content { text-align: center; color: white; }
        .spinner-large {
          width: 60px; height: 60px; margin: 0 auto 20px;
          border: 4px solid rgba(255,255,255,0.3);
          border-top: 4px solid white;
          border-radius: 50%; animation: spin 1s linear infinite;
        }

        .qr-img{width:220px;max-width:70vw;height:auto;border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.12);transition:transform .2s,box-shadow .2s}
        .qr-img:hover{transform:translateY(-3px);box-shadow:0 14px 30px rgba(0,0,0,.18)}

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        .brand{ text-align:center; margin-bottom:15px; }
        .brand .logo{ 
          width:110px; height:110px; display:block; margin:0 auto 10px;
          background: url('https://tvtc.gov.sa/ar/PublishingImages/logo.png') center/contain no-repeat #003366;
          border-radius: 15px; box-shadow: var(--shadow);
          transition: transform 0.3s ease;
        }
        .brand .logo:hover { transform: scale(1.05); }
        
        h1 { 
          text-align:center; color:var(--primary-dark); margin:8px 0 6px; 
          font-size: 2.2em; font-weight: 700;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        body.dark-mode h1{ color:#bcd2ff; }
        
        .subtitle{ 
          text-align:center; margin:0 0 15px; color:#666; font-size:1rem;
          line-height: 1.5;
        }
        body.dark-mode .subtitle{ color:#bdbdbd; }

        /* ÙƒØ±Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø·ÙŠ */
        .search-card{
          display:none; margin:14px 0 6px; padding:16px; border-radius:14px;
          background:#fff; border:2px solid #e3f2fd; box-shadow: var(--shadow);
        }
        body.dark-mode .search-card{ background:#1f1f1f; border-color:#2b3b4b; box-shadow:0 8px 28px rgba(0,0,0,.35) }

        /* ØªØ°ÙŠÙŠÙ„ */
        .site-footer{
          margin:24px auto 0; max-width:900px; text-align:center; font-size:.95rem;
          color:#385b7c; background:rgba(255,255,255,.65); padding:12px 14px; border-radius:12px; box-shadow:var(--shadow);
        }
        body.dark-mode .site-footer{ background:#141414; color:#9ec7ff; box-shadow:0 8px 28px rgba(0,0,0,.35) }

        /* Ø´Ø±ÙŠØ· Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù…Ø­Ø³Ù† */
        .quick-icons{
          display:flex; gap:10px; justify-content:center; flex-wrap:wrap; 
          margin:10px 0 20px; animation: fadeInUp 0.8s ease-out 0.2s both;
        }
        .qi{
          display:flex; align-items:center; gap:8px; padding:10px 15px;
          background:#eef6ff; color:#0b66c3; border-radius:25px; 
          cursor:pointer; user-select:none; font-size:0.95rem; font-weight: 500;
          border:2px solid rgba(0,112,192,.12); 
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative; overflow: hidden;
        }
        .qi:hover { 
          transform: translateY(-3px); 
          box-shadow: 0 8px 20px rgba(0,112,192,0.25);
          border-color: var(--primary);
        }
        .qi:active { transform: translateY(-1px); }
        .qi .i{ font-size:20px; }
        body.dark-mode .qi{ 
          background:#0d2a45; color:#cfe6ff; 
          border-color:rgba(255,255,255,.12);
        }

        /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨Ø­Ø« */
        .form-group { margin:20px 0; position: relative; }
        label{ 
          display:block; margin-bottom:10px; font-weight: 600;
          font-size: 1.1em; color: var(--primary-dark);
        }
        body.dark-mode label { color: #bcd2ff; }
        .search-container { position: relative; }
        input {
          width:100%; padding:15px 50px 15px 20px; border-radius:12px;
          border:2px solid #e1e5e9; font-size:1.1em;
          background: #f8f9fa; transition: all 0.3s ease;
          font-family: inherit;
        }
        input:focus {
          outline:none; border-color:var(--primary);
          background:white; transform:translateY(-2px);
          box-shadow:0 8px 20px rgba(0,112,192,0.2);
        }
        body.dark-mode input{ background:#111; color:#fff; border-color:#444; }
        body.dark-mode input:focus { background:#000; border-color:var(--secondary); }
        .search-icon {
          position: absolute; right: 15px; top: 50%;
          transform: translateY(-50%); color: #999;
          font-size: 1.2em; pointer-events: none;
        }

        .btn {
          width:100%; padding:15px; margin-top:15px;
          background:linear-gradient(135deg,var(--primary) 0%, var(--secondary) 100%);
          color:#fff; border:none; border-radius:12px;
          font-size:1.2em; font-weight:600; cursor:pointer; 
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative; overflow: hidden;
        }
        .btn:hover { transform:translateY(-3px); box-shadow:0 12px 25px rgba(0,112,192,0.3); }
        .btn:active { transform:translateY(-1px); }
        .btn:disabled { opacity:0.6; cursor:not-allowed; transform:none; }

        /* Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .message { 
          display:none; padding:15px 20px; border-radius:10px; margin:15px 0; 
          text-align:center; font-weight: 500; position: relative;
          animation: slideInDown 0.5s ease-out;
        }
        .success{background:var(--ok);color:white; border-left: 5px solid #40c057;}
        .error{background:var(--err);color:white; border-left: 5px solid #fa5252;}
        .warning{background:var(--warn);color:#333; border-left: 5px solid #fd7e14;}

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯ */
        .trainer-info{
          display:none;margin-top:25px;padding:20px;
          background:linear-gradient(135deg,var(--primary) 0%, var(--secondary) 100%);
          color:white;border-radius:15px;
          box-shadow: var(--shadow); position: relative;
          animation: fadeInUp 0.6s ease-out;
        }
        .trainer-info h3 { margin: 0 0 20px; font-size: 1.5em; text-align: center; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }
        .info-item{
          margin:12px 0;background:rgba(255,255,255,0.15);
          padding:12px 15px;border-radius:8px;
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
        }
        .info-item:hover { background:rgba(255,255,255,0.2); transform: translateX(-5px); }
        .info-item strong { display: block; margin-bottom: 8px; font-size: 1.05em; opacity: 0.9; }
        .clickable-info{ color:#87CEEB; text-decoration:underline; transition: color 0.3s ease; }
        .clickable-info:hover { color: #ffffff; }
        .non-clickable{color:#ffeeee; opacity: 0.8;}
        a#mentorGroupLink{ color:#fff; text-decoration:underline; padding: 8px 15px; background: rgba(255,255,255,0.2);
          border-radius: 6px; display: inline-block; margin-top: 5px; transition: all 0.3s ease; }
        a#mentorGroupLink:hover { background: rgba(255,255,255,0.3); transform: translateY(-2px); }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø© */
        .action-buttons { margin-top:20px;text-align:center; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        .share-btn { background:rgba(255,255,255,0.2); color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; font-size:0.95em; font-weight: 500; transition: all 0.3s ease; backdrop-filter: blur(5px); }
        .share-btn:hover { background:rgba(255,255,255,0.3); transform: translateY(-2px); }

        /* Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ */
        .theme-toggle {
          position:fixed;top:20px;right:20px;
          background:rgba(255,255,255,0.15);border:none;
          border-radius:50px;padding:12px 18px;color:white;
          cursor:pointer;z-index:1000; backdrop-filter: blur(10px);
          transition: all 0.3s ease; font-size: 1.2em;
        }
        .theme-toggle:hover { background:rgba(255,255,255,0.25); transform: scale(1.1); }
        body.dark-mode .theme-toggle{ background:rgba(0,0,0,.4); }

        /* Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø¨Ø­Ø« */
        .search-suggestions {
          position:absolute;top:100%;left:0;right:0;
          background:white;border:2px solid #e1e5e9;
          border-radius:12px;max-height:250px;overflow-y:auto;
          display:none;z-index:500; margin-top: 5px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        body.dark-mode .search-suggestions{ background:#111; border-color:#444; color:#eee; }
        .suggestion-item.disabled{cursor:not-allowed;opacity:.6;pointer-events:none}
        .suggestion-item{ padding:12px 15px;cursor:pointer; border-bottom: 1px solid #f0f0f0; transition: all 0.3s ease; font-size: 0.95em; }
        .suggestion-item:last-child { border-bottom: none; }
        .suggestion-item:hover{ background:#f8f9fa; padding-left: 20px; }
        body.dark-mode .suggestion-item { border-color: #333; }
        body.dark-mode .suggestion-item:hover{ background:#1c1c1c; }

        /* Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª */
        .departments-panel, .guidance-panel {
          display:none; margin-top:20px; padding:20px;
          border:2px solid rgba(0,112,192,.12); border-radius:15px; 
          background:#f8f9fa; animation: expandIn 0.5s ease-out;
        }
        body.dark-mode .departments-panel, body.dark-mode .guidance-panel { background:#171717; border-color:rgba(255,255,255,.12); }
        .panel-title { color:var(--primary-dark); margin-bottom:20px; font-size: 1.4em; text-align: center; position: relative; padding-bottom: 10px; }
        .panel-title:after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 50px; height: 3px; background: linear-gradient(90deg, var(--primary), var(--secondary)); border-radius: 2px; }
        body.dark-mode .panel-title { color:#bcd2ff; }
        
        /* ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .dept-tabs { display:flex; gap:10px; margin-bottom:20px; flex-wrap:wrap; justify-content:center; }
        .dept-tab { padding:10px 20px; background:#e3f2fd; border:none; border-radius:25px; cursor:pointer; font-size:0.95em; color:var(--primary-dark); transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1); font-weight: 500; border: 2px solid transparent; }
        .dept-tab.active { background:var(--primary); color:white; border-color: var(--primary-dark); box-shadow: 0 5px 15px rgba(0,112,192,0.3); }
        .dept-tab:hover { transform:translateY(-2px); box-shadow: 0 5px 15px rgba(0,112,192,0.2); }
        body.dark-mode .dept-tab { background:#2d4356; color:#cfe6ff; }
        body.dark-mode .dept-tab.active { background:var(--secondary); color: #000; }

        /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .dept-content { display:none; animation: fadeIn 0.4s ease; }
        .dept-content.active { display:block; }
        
        .dept-head {
          background:linear-gradient(135deg,var(--primary) 0%, var(--secondary) 100%);
          color:white; padding:15px 20px; border-radius:12px; margin-bottom:15px; text-align: center; box-shadow: var(--shadow);
        }
        .dept-head h4 { margin: 0; font-size: 1.3em; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† */
        .staff-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:15px; margin-top:15px; }
        .staff-card { background:white; padding:15px; border-radius:12px; border:2px solid #e0e0e0; transition: all 0.3s ease; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .staff-card:hover { border-color: var(--primary); transform: translateY(-5px); box-shadow: var(--shadow-hover); }
        body.dark-mode .staff-card { background:#2a2a2a; border-color:#444; color:#eee; }
        .staff-name { font-weight:bold; color:var(--primary-dark); margin-bottom:10px; font-size: 1.1em; }
        body.dark-mode .staff-name { color:#bcd2ff; }
        .staff-contact { font-size:0.9em; margin:8px 0; display: flex; align-items: center; gap: 8px; }
        .staff-contact a { color:var(--primary); text-decoration:none; transition: color 0.3s ease; }
        .staff-contact a:hover { text-decoration:underline; color: var(--secondary); }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª */
        .service-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:15px; margin-top:15px; }
        .service-card {
          background:white; padding:20px; border-radius:15px; text-align:center;
          border:2px solid #e3f2fd; transition:all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
          cursor:pointer; position: relative; overflow: hidden;
        }
        .service-card:before {
          content: ''; position: absolute; top: 0; left: -100%;
          width: 100%; height: 100%; background: linear-gradient(90deg, 
            transparent, rgba(255,255,255,0.3), transparent);
          transition: left 0.5s ease;
        }
        .service-card:hover:before { left: 100%; }
        .service-card:hover { border-color:var(--primary); transform:translateY(-5px); box-shadow:0 15px 30px rgba(0,112,192,0.2); }
        body.dark-mode .service-card { background:#2a2a2a; border-color:#444; }
        body.dark-mode .service-card:hover { border-color:var(--secondary); }
        
        .service-icon { font-size:2.5em; margin-bottom:12px; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.1)); }
        .service-title { font-weight:bold; color:var(--primary-dark); margin-bottom:8px; font-size: 1.1em; }
        body.dark-mode .service-title { color:#bcd2ff; }
        .service-desc { font-size:0.9em; color:#666; line-height: 1.4; }
        body.dark-mode .service-desc { color:#bbb; }

        /* Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .tips-ticker {
          background:linear-gradient(90deg, var(--primary), var(--secondary));
          color:white; padding:15px; border-radius:12px; margin:25px 0;
          overflow:hidden; position:relative; direction: ltr;
          box-shadow: var(--shadow);
        }
        .tips-ticker:before {
          content: 'ğŸ’¡'; position: absolute; left: 15px; top: 50%;
          transform: translateY(-50%); font-size: 1.5em; z-index: 2;
        }
        .ticker-content {
          animation: scroll-rtl var(--ticker-duration, 30s) linear infinite;
          white-space: nowrap; /* Ù…Ù‡Ù… */
        }
        @keyframes scroll-rtl { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        .tips-ticker:hover .ticker-content { animation-play-state:paused; }

        /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats{
          margin-top:20px;padding:15px;background:#f8f9fa;border-radius:12px;
          font-size:0.95em;text-align:center; display:grid;
          grid-template-columns:repeat(auto-fit, minmax(140px, 1fr)); gap:12px;
          box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
        }
        body.dark-mode .stats{ background:#171717; color:#ddd; }
        .stat-item { padding:12px; background:white; border-radius:8px; transition: transform 0.3s ease; position: relative; }
        .stat-item:hover { transform: translateY(-2px); }
        body.dark-mode .stat-item { background:#2a2a2a; }
        .stat-value { font-size: 1.2em; font-weight: bold; margin-top: 5px; }
        body.dark-mode .stat-value { color: var(--secondary); }

        /* Ø§Ù„Ø¬ÙˆØ¯Ø© */
        .quality-showcase {
          margin-top:25px; padding:20px;
          background:linear-gradient(135deg,var(--primary) 0%, var(--secondary) 100%); 
          color:white; border-radius:15px; text-align:center;
          box-shadow: var(--shadow); position: relative; overflow: hidden;
        }
        .quality-showcase:before {
          content: ''; position: absolute; top: -50%; right: -50%;
          width: 200%; height: 200%; opacity: 0.1;
          background: radial-gradient(circle, white 0%, transparent 70%);
          animation: rotate 20s linear infinite;
        }
        .quality-showcase h4 { margin:0 0 15px; position: relative; z-index: 2; font-size: 1.3em; }
        .quality-tip { margin:0; font-size:1.1em; min-height:3em; display:flex; align-items:center; justify-content:center; position: relative; z-index: 2; line-height: 1.5; }

        /* Animations */
        @keyframes fadeIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
        @keyframes fadeInUp { from { opacity:0; transform:translateY(30px); } to { opacity:1; transform:translateY(0); } }
        @keyframes slideInUp { from { opacity:0; transform:translateY(50px); } to { opacity:1; transform:translateY(0); } }
        @keyframes slideInDown { from { opacity:0; transform:translateY(-20px); } to { opacity:1; transform:translateY(0); } }
        @keyframes expandIn { from { opacity:0; transform:scaleY(0.8); } to { opacity:1; transform:scaleY(1); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© */
        @media (max-width: 768px) {
          .container { padding: 15px; margin: 10px; }
          .quick-icons { gap: 8px; }
          .qi { padding: 8px 12px; font-size: 0.9em; }
          .service-grid, .staff-grid { grid-template-columns: 1fr; }
          .dept-tabs { gap: 5px; }
          .dept-tab { padding: 8px 15px; font-size: 0.85em; }
          .stats { grid-template-columns: repeat(2, 1fr); gap: 8px; }
          .action-buttons { flex-direction: column; align-items: center; }
          .theme-toggle { top: 10px; right: 10px; padding: 10px 15px; }
        }
        @media (max-width: 480px) {
          .brand .logo { width: 80px; height: 80px; }
          h1 { font-size: 1.8em; }
          .subtitle { font-size: 0.9em; }
          .stats { grid-template-columns: 1fr; }
        }

        /* Ø·Ø¨Ø§Ø¹Ø© */
        @media print {
          .theme-toggle, .quick-icons, .btn { display: none !important; }
          body { background: white !important; color: black !important; }
          .container { box-shadow: none !important; }
          .trainer-info { background: #f0f0f0 !important; color: black !important; }
        }

        /* Ø­Ø§Ù„Ø§Øª Ù„ÙˆÙ†ÙŠØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stat-item { position: relative; }
        .stat-value { font-size: 1.2em; font-weight: 800; margin-top: 5px; }

        .stat--ok   .stat-value { color: #51cf66; }   /* Ø£Ø®Ø¶Ø± */
        .stat--warn .stat-value { color: #ffd43b; }   /* Ø£ØµÙØ± */
        .stat--err  .stat-value { color: #ff6b6b; }   /* Ø£Ø­Ù…Ø± */
        .stat--info .stat-value { color: var(--primary); } /* Ø£Ø²Ø±Ù‚ Ø¹Ø§Ù… */

        .stat-trend { font-size:.85em; opacity:.85; margin-right:.25em; }



        /* ===== Stats Pro ===== */
        .stats-pro{
          display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(210px,1fr));
          padding:14px; background:rgba(255,255,255,.65); border:1px solid rgba(0,0,0,.06);
          border-radius:16px; box-shadow: var(--shadow);
          backdrop-filter: blur(6px);
        }
        body.dark-mode .stats-pro{
          background:#141414; border-color:#2a2a2a; box-shadow:0 10px 28px rgba(0,0,0,.35);
        }

        .sp-item{
          background:#fff; border:1px solid #eef3f8; border-radius:14px; padding:12px 14px;
          transition:transform .2s, box-shadow .2s;
        }
        .sp-item:hover{ transform:translateY(-2px); box-shadow:var(--shadow-hover); }
        body.dark-mode .sp-item{ background:#1c1c1c; border-color:#2b2b2b; }

        .sp-head{ display:flex; align-items:center; gap:8px; margin-bottom:6px; }
        .sp-icon{
          width:28px; height:28px; display:grid; place-items:center; font-size:16px;
          border-radius:8px; background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);
          color:#fff; box-shadow:0 4px 12px rgba(0,112,192,.25);
        }
        .sp-title{ font-weight:700; color:var(--primary-dark); letter-spacing:.2px; }
        body.dark-mode .sp-title{ color:#cfe1ff; }

        .sp-value{
          font-weight:800; font-size:1.4rem; color:#2c3e50;
        }
        body.dark-mode .sp-value{ color:#eaeaea; }

        /* Chips Ù„Ù„Ø­Ø§Ù„Ø§Øª */
        .sp-chip{
          display:inline-flex; align-items:center; gap:6px; font-weight:700; padding:8px 10px;
          border-radius:999px; font-size:.98rem; border:1px solid transparent;
        }
        .sp-chip::before{ content:""; width:10px; height:10px; border-radius:50%; display:inline-block; }

        .sp-chip[data-state="ok"]   { background:#e9f9ef; color:#1f8f4e; border-color:#bfead0; }
        .sp-chip[data-state="ok"]::before{ background:#1f8f4e; }

        .sp-chip[data-state="warn"] { background:#fff6db; color:#996c00; border-color:#ffe29a; }
        .sp-chip[data-state="warn"]::before{ background:#f2b705; }

        .sp-chip[data-state="err"]  { background:#ffe8e8; color:#b71d1d; border-color:#ffc7c7; }
        .sp-chip[data-state="err"]::before{ background:#e03131; }

        /* ØªØ±Ù†Ø¯ Ø§Ù„ÙŠÙˆÙ… */
        .sp-today{ display:flex; align-items:baseline; gap:.35rem; }
        .sp-trend{ font-weight:900; font-size:1.1rem; opacity:.9 }
        .sp-trend.up   { color:#1f8f4e; }  /* â†‘ */
        .sp-trend.flat { color:#888; }     /* â†’ */
        .sp-trend.down { color:#e03131; }  /* â†“ */

        /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø£Ø´Ø¯ Ø¥Ø­ÙƒØ§Ù…Ù‹Ø§ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width:480px){
          .sp-value{ font-size:1.2rem; }
        }

        /* --- ØªÙˆØ³ÙŠØ· ÙƒØ§Ù…Ù„ Ù…Ø­ØªÙˆÙ‰ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª --- */
        .stats-pro { text-align: center; }

        .sp-item{
          display: flex;
          flex-direction: column;
          align-items: center;     /* ÙŠÙˆØ³Ø· Ø£ÙÙ‚ÙŠÙ‹Ø§ */
          justify-content: center; /* ÙŠÙˆØ³Ø· Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© */
          text-align: center;
        }

        .sp-head{
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center; /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù† */
          gap: 8px;
        }

        .sp-value{ 
          text-align: center;
        }

        .sp-chip{
          display: inline-flex;
          align-items: center;
          justify-content: center; /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„Ø´ÙŠØ¨ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
        }

        .sp-today{
          display: inline-flex;
          align-items: baseline;
          justify-content: center; /* Ø§Ù„Ø³Ù‡Ù… + Ø§Ù„Ø±Ù‚Ù… ÙÙŠ Ø§Ù„ÙˆØ³Ø· */
          gap: .35rem;
        }

        /* Ø¥Ù† Ø­Ø¨ÙŠØª ØªÙˆØ³Ù‘Ø· ÙƒÙ…Ø§Ù† Ø¨Ø·Ø§Ù‚Ø§Øª .stats Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© */
        .stats { text-align: center; }
        .stat-item{
          display:flex;
          flex-direction:column;
          align-items:center;
          justify-content:center;
        }

        /* Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ© Ù„Ø´Ø±ÙŠØ· Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ */
      .tips-bar {
        background: linear-gradient(90deg, #00ADEF, #0070C0);
      }


        /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø±Ø¶Ø§ */
        .quality-kpi{margin-top:18px;padding:18px;border-radius:14px;background:#fff;color:#2c3e50}
        body.dark-mode .quality-kpi{background:#1c1c1c;color:#eaeaea}
        .kpi-row{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;margin:6px 0}
        .kpi-label{font-weight:700}
        .kpi-value{font-weight:800}
        .kpi-progress{
          background:#e9ecef;border-radius:999px;overflow:hidden;height:26px;position:relative;
          box-shadow:inset 0 2px 6px rgba(0,0,0,.08)
        }
        .kpi-bar{
          height:100%;width:0;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;
          background:linear-gradient(90deg,#51cf66,#40c057);transition:width .7s ease
        }
        .kpi-actions{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:14px}
        .kpi-btn{
          border:none;border-radius:10px;padding:12px 16px;cursor:pointer;font-weight:700;color:#fff;
          background:linear-gradient(135deg,var(--primary) 0%, var(--secondary) 100%);
          box-shadow:0 10px 20px rgba(0,112,192,.25);transition:transform .2s, box-shadow .2s
        }
        .kpi-btn:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(0,112,192,.35)}
        #tipsKPIBarTop { display: none; }

      </style>
    </head>
    <body>
      <!-- Loading Overlay -->
      <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
          <div class="spinner-large"></div>
          <p>ğŸ‰ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ â€“ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
        </div>
      </div>


      <button id="themeToggle" class="theme-toggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ/Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">ğŸŒ™</button>

    <div class="container" aria-live="polite">
      <!-- Ø§Ù„Ø´Ø¹Ø§Ø± + Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
      <div class="brand">
        <img src="logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©" class="logo" title="Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠ" style="width:300px; height:auto;">
        <h1>Ù…Ù†ØµØ© Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</h1>
        <p class="subtitle">Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© ÙˆØ§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</p>
      </div>


      <!-- âœ… Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ .container -->
      <div id="initiativeBox" class="departments-panel" style="display:none;min-height:140px">
        <h3 class="panel-title">ğŸ§© ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©</h3>
        <div id="initiativeContent"></div>
      </div>





        <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
      <div class="quick-icons">
        <div class="qi" id="qi-mentor" title="Ø§Ù„ØªØ¹Ø±Ù‘Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø´Ø¯ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù†Ùƒ"><span class="i">ğŸ§­</span><span>Ù…Ø±Ø´Ø¯ÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</span></div>
        <div class="qi" id="qi-courses" title="Ø¨Ø­Ø« Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ÙˆØ§Ù„Ø´ÙØ¹Ø¨"><span class="i">ğŸ“˜</span><span>Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ÙˆØ§Ù„Ø´ÙØ¹Ø¨</span></div>
        <div class="qi" id="qi-departments" title="Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©"><span class="i">ğŸ‘¨â€ğŸ«</span><span>Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</span></div>
        <div class="qi" id="qi-studentsAffairs" title="ÙˆÙƒÙŠÙ„ Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†"><span class="i">ğŸ§‘â€ğŸ“</span><span>ÙˆÙƒÙŠÙ„ Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</span></div>
        <div class="qi" id="qi-guidance" title="Ø¹Ø±Ø¶ ÙˆØ­Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø§Ø±Ø´Ø§Ø¯ÙŠØ©"><span class="i">ğŸ“</span><span>ÙˆØ­Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø§Ø±Ø´Ø§Ø¯ÙŠØ©</span></div>
        <div class="qi" id="qi-support" title="Ù…Ø¯ÙŠØ± Ø§Ù„ØªØ¯Ø±Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"><span class="i">ğŸ§‘â€ğŸ’»</span><span>Ù…Ø¯ÙŠØ± Ø§Ù„ØªØ¯Ø±Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span></div>
        <div class="qi" id="qi-quality" title="Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø¬ÙˆØ¯Ø©"><span class="i">ğŸ“Š</span><span>ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</span></div>
        <div class="qi" id="qi-nums" title="Ø¹Ø±Ø¶ Ø£Ø±Ù‚Ø§Ù… ØªÙ‡Ù…Ùƒ"><span class="i">ğŸ“</span><span>Ø£Ø±Ù‚Ø§Ù… ØªÙ‡Ù…Ùƒ</span></div>
        <div class="qi" id="qi-library" title="Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©"><span class="i">ğŸ“š</span><span>Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</span></div>
        <div class="qi" id="qi-rafed" title="Ù…Ø¨Ø§Ø¯Ø±Ø© Ø±Ø§ÙØ¯"><span class="i">ğŸ“</span><span>Ù…Ø¨Ø§Ø¯Ø±Ø© Ø±Ø§ÙØ¯</span></div>
        <div class="qi" id="qi-voice" title="ØµÙˆØªÙƒ Ù…Ø³Ù…ÙˆØ¹"><span class="i">ğŸ—£ï¸</span><span>ØµÙˆØªÙƒ Ù…Ø³Ù…ÙˆØ¹</span></div>
        <div class="qi" id="qi-contact" title="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„"><span class="i">ğŸ“</span><span>Ø§ØªØµÙ„ Ø¨Ù†Ø§</span></div>
      </div>

        <!-- ÙØ§ØµÙ„ ÙˆØ§Ø¶Ø­ Ø¨ÙŠÙ† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø­Ø« ÙˆÙ„ÙˆØ­Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª -->
        <div id="sections-start" class="ui-sep" role="separator" aria-label="Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª">
          <span class="chip">Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª</span>
        </div>

        <!-- ÙƒØ±Øª Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø¯ (ÙŠÙØ¸Ù‡Ø±/ÙŠÙØ®ÙÙ‰ Ù…Ù† Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©) -->
        <div id="mentorSearchCard" class="search-card" aria-label="Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø¯">
          <form id="traineeForm">
            <div class="form-group" style="margin-top:0">
              <label for="traineeId">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯:</label>
              <div class="search-container">
                <input type="text" id="traineeId" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯ Ù„Ù„Ø¨Ø­Ø«" autocomplete="off" />
                <span class="search-icon">ğŸ”</span>
                <div id="searchSuggestions" class="search-suggestions" role="listbox"></div>
              </div>
            </div>
            <button type="submit" class="btn" id="searchBtn"><span id="searchBtnText">ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø¯</span></button>
          </form>

          <div class="message success" id="successMsg" role="alert"></div>
          <div class="message error" id="errorMsg" role="alert"></div>
          <div class="message warning" id="warningMsg" role="alert"></div>
        </div>



        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯ -->
        <div class="trainer-info" id="trainerInfo">
          <h3>ğŸ¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯ Ø§Ù„Ù…Ø®ØµØµ Ù„Ùƒ</h3>
          <div class="info-item"><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯:</strong> <span id="mentorName"></span></div>
          <div class="info-item"><strong>Ø±Ù‚Ù… Ø§Ù„Ù…ÙƒØªØ¨:</strong> <span id="trainerOffice"></span></div>
          <div class="info-item"><strong>Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…:</strong> <span id="trainerAccountContainer"></span></div>
          <div class="info-item"><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <span id="trainerEmailContainer"></span></div>
          <div class="info-item">
            <strong>Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯:</strong>
            <div>
              <a href="#" id="mentorGroupLink" target="_blank" style="display:none;" rel="noopener">ğŸ‘¥ Ø§Ù†Ø¶Ù… Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</a>
              <span id="noMentorGroup" class="non-clickable">ØºÙŠØ± Ù…ØªÙˆÙØ±Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§</span>
            </div>
          </div>
          <div class="action-buttons">
            <button class="share-btn" onclick="shareTrainerInfo()" title="Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯">ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©</button>
            <button class="share-btn" onclick="printTrainerInfo()" title="Ø·Ø¨Ø§Ø¹Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
            <button class="share-btn" onclick="saveToContacts()" title="Ø­ÙØ¸ ÙÙŠ Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„">ğŸ“± Ø­ÙØ¸</button>
          </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© -->
        <div id="guidancePanel" class="guidance-panel">
          <h3 class="panel-title">ğŸ“ ÙˆØ­Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ©</h3>
          <div class="service-grid">
            <div class="service-card" onclick="openWhatsApp('966144510265')" title="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨">
              <div class="service-icon">ğŸ“±</div>
              <div class="service-title">ÙˆØ­Ø¯Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ©</div>
              <div class="service-desc">ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</div>
            </div>
              <div class="service-card" onclick="openTelegram('Ahmedrajeh')" title="Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù„Ù„ØªÙˆØ§ØµÙ„">
                <div class="service-icon">ğŸ’¬</div>
                <div class="service-title">Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù„Ù„ØªÙˆØ§ØµÙ„</div>
                <div class="service-desc">@Ahmedrajeh</div>
              </div>
                <div class="service-card" onclick="window.open(STUDENT_GUIDE_URL,'_blank','noopener')" title="Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                  <div class="service-icon">ğŸ“˜</div>
                  <div class="service-title">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                  <div class="service-desc">Ù…Ù„Ù Ø¥Ø±Ø´Ø§Ø¯ÙŠ Ø´Ø§Ù…Ù„ (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±)</div>
                </div>
          </div>
        </div>


        <!-- NEW: Ù„ÙˆØ­Ø© ÙˆÙƒÙŠÙ„ Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† -->
      <div id="studentsAffairsPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ§‘â€ğŸ“ ÙˆÙƒÙŠÙ„ Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</h3>
        <div class="service-grid">
          <!-- ÙˆØ§ØªØ³Ø§Ø¨ -->
          <div class="service-card" onclick="openWhatsApp('+966144510265')" title="Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
            <div class="service-icon">ğŸ“±</div>
            <div class="service-title">Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</div>
            <div class="service-desc">+966144510265</div>
          </div>

          <!-- ØªÙ„ÙŠØ¬Ø±Ø§Ù… -->
          <div class="service-card" onclick="openTelegram('m_al3mrni')" title="Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…">
          <div class="service-icon">ğŸ’¬</div>
          <div class="service-title">Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</div>
          <div class="service-desc">@m_al3mrni</div>
        </div>


          <!-- Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
          <div class="service-card" onclick="window.location='mailto:m.alamrani@tvtc.gov.sa'" title="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            <div class="service-icon">âœ‰ï¸</div>
            <div class="service-title">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
            <div class="service-desc">m.alamrani@tvtc.gov.sa</div>
          </div>
        </div>
      </div>


      <div id="rafedPanel" class="departments-panel" style="display:none">
          <h3 class="panel-title">ğŸ“ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø±Ø§ÙØ¯</h3>
          <div id="rafedDesc" class="dept-head" style="margin-bottom:15px; text-align:right"></div>
          <div class="service-grid"></div>
        </div>

        
                <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© -->
      <div id="numberPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ“ Ø£Ø±Ù‚Ø§Ù… ØªÙ‡Ù…Ùƒ</h3>
        <div class="service-grid">
          <div class="service-card" onclick="window.open('tel:00966566872115')" title="Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù…Ù†Ø³Ù‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø©">
            <div class="service-icon">ğŸ¦º</div>
            <div class="service-title">Ù…Ù†Ø³Ù‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ©</div>
            <div class="service-desc">Ù…. Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø¹Ù…Ø±ÙŠ â€” 00966566872115</div>
          </div>

          <div class="service-card" onclick="window.open('tel:997')" title="Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù">
            <div class="service-icon">ğŸš‘</div>
            <div class="service-title">Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</div>
            <div class="service-desc">997 (Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±)</div>
          </div>

          <div class="service-card" onclick="window.open('tel:998')" title="Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ">
            <div class="service-icon">ğŸš’</div>
            <div class="service-title">Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ</div>
            <div class="service-desc">998 (Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±)</div>
          </div>

          <div class="service-card" onclick="window.open('tel:999')" title="Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´Ø±Ø·Ø©">
            <div class="service-icon">ğŸ‘®â€â™‚ï¸</div>
            <div class="service-title">Ø§Ù„Ø´Ø±Ø·Ø©</div>
            <div class="service-desc">999 (Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±)</div>
          </div>

          <div class="service-card" onclick="window.open('tel:911')" title="Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ù…ÙˆØ­Ø¯">
            <div class="service-icon">ğŸ“</div>
            <div class="service-title">Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ù…ÙˆØ­Ø¯</div>
            <div class="service-desc">911 (Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±)</div>
          </div>
        </div> <!-- /service-grid -->
      </div>   <!-- /numberPanel -->




      <div id="libraryPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ“š Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h3>
        <div class="service-grid">
          <div class="service-card" onclick="showCalendar()" title="Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ">
            <div class="service-icon">ğŸ“…</div>
            <div class="service-title">Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</div>
            <div class="service-desc">Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù…Ù‡Ù…Ø© ÙˆØ§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ¥Ø¬Ø§Ø²Ø§Øª</div>
          </div>
          <div class="service-card" onclick="showLibrary()" title="Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©">
            <div class="service-icon">ğŸ“š</div>
            <div class="service-title">Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</div>
            <div class="service-desc">Ù…ØµØ§Ø¯Ø± ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆÙƒØªØ¨ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</div>
          </div>
          <div class="service-card" onclick="showReferences()" title="Ø§Ù„Ø®Ø·Ø· Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹">
          <div class="service-icon">ğŸ—‚ï¸</div>
          <div class="service-title">Ø§Ù„Ø®Ø·Ø· Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹</div>
          <div class="service-desc">Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ÙˆØ®Ø·Ø· Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø§Ù‚Ø³Ø§Ù…</div>
        </div>
        </div>
      </div>


      <div id="coursesPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ“˜ Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª ÙˆØ§Ù„Ø´ÙØ¹Ø¨</h3>

        <form id="courseForm" class="form-group" style="margin-top:0">
          <label for="courseSection">Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø´Ø¹Ø¨Ø© (CRN):</label>
          <div class="search-container">
            <input type="text" id="courseSection" placeholder="Ù…Ø«Ø§Ù„: 32451" autocomplete="off" />
            <span class="search-icon">ğŸ”</span>
            <div id="courseSearchSuggestions" class="search-suggestions" role="listbox"></div>
          </div>
          <button type="submit" class="btn" id="courseSearchBtn">ğŸ” Ø¨Ø­Ø« Ø§Ù„Ù…Ù‚Ø±Ø±</button>
        </form>

        <div id="courseResult" style="display:none; margin-top:15px;">
          <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§Ú¤Ø§Ø³ÙƒØ±Ø¨Øª -->
        </div>
      </div>


        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© -->
        <div id="departmentsPanel" class="departments-panel">
          <h3 class="panel-title">ğŸ¢ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</h3>
          <div class="dept-tabs">
            <button class="dept-tab active" data-dept="computer">Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</button>
            <button class="dept-tab" data-dept="electronics">Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</button>
            <button class="dept-tab" data-dept="general">Ù‚Ø³Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</button>
          </div>

          <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ -->
          <div class="dept-content active" id="computer">
            <div class="dept-head"><h4>ğŸ’» Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h4></div>
              <div class="staff-grid">

                <div class="staff-card">
                  <div class="staff-name">ğŸ† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ Ø¨Ø§Ø®Ø´ÙˆÙŠÙ† â€“ Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù… ØªØ¯Ø±ÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:abakhashwain@tvtc.gov.sa">abakhashwain@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/amab27211" target="_blank" rel="noopener">@amab27211</a></div>
                </div>


                <div class="staff-card">
                  <div class="staff-name">Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:abdualaziza@tvtc.gov.sa">abdualaziza@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/AZIZalamri" target="_blank" rel="noopener">@AZIZalamri</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„ÙˆÙ‚Ø¯Ø§Ù†ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:abdullaha39@tvtc.gov.sa">abdullaha39@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Abdullaha39" target="_blank" rel="noopener">@Abdullaha39</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø®Ø§Ù„Ø¯ Ø¹ÙˆØ¶ Ø¹ÙˆØ§Ø¶ Ø§Ù„Ø­Ø§Ø±Ø«ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:khalharthi@tvtc.gov.sa">khalharthi@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/khaledAlharthi" target="_blank" rel="noopener">@khaledAlharthi</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø¨Ù†Ø¯Ø± Ø³Ø§Ù„Ù… Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:b.almalki1@tvtc.gov.sa">b.almalki1@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/balmalki1" target="_blank" rel="noopener">@balmalki1</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø¹Ø²Ø§Ù… Ù…Ø¹ØªÙˆÙ‚ Ø§Ù„Ø­Ø§Ø±Ø«ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:azzama1@tvtc.gov.sa">azzama1@tvtc.gov.sa</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">ÙŠÙˆØ³Ù Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ù„ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:ymalli@tvtc.gov.sa">ymalli@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/ymalli100" target="_blank" rel="noopener">@ymalli100</a></div>
                </div>
              </div>
          </div>

          <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© -->
          <div class="dept-content" id="electronics">
            <div class="dept-head"><h4>âš¡ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h4></div>
            <div class="staff-grid">

                <div class="staff-card">
                  <div class="staff-name">ğŸ† Ù…Ø¹Ø§Ø° ØµØ§Ù„Ø­ Ø§Ù„Ø´Ø±ÙŠÙ  â€“ Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù… ØªØ¯Ø±ÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:muath.a2@tvtc.gov.sa">muath.a2@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/muath_alsharifi" target="_blank" rel="noopener">@muath_alsharifi</a></div>
                </div>


                <div class="staff-card">
                  <div class="staff-name">ğŸ“ Ø³Ù…ÙŠØ± Ù…Ø­Ù…Ø¯ Ù‡ÙˆØ³Ø§ÙˆÙŠ â€“ Ø¹Ù…ÙŠØ¯</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:sameer.h@tvtc.gov.sa">sameer.h@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Sameer_Hawsawi" target="_blank" rel="noopener">@Sameer_Hawsawi</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">ÙÙ‡Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…Ø¯ ØµØ§Ù„Ø­</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:fahadsaleh@tvtc.gov.sa">fahadsaleh@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/EngFahadSaleh" target="_blank" rel="noopener">@EngFahadSaleh</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø¹Ù…Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø«Ù‚ÙÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:emad.a3@tvtc.gov.sa">emad.a3@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/eng_Emad" target="_blank" rel="noopener">@eng_Emad</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø³Ø¹ÙˆØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø±Ø¨ÙŠØ¹</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:s.alrubayyi@tvtc.gov.sa">s.alrubayyi@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Eng_Saud" target="_blank" rel="noopener">@Eng_Saud</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø²ÙŠØ§Ø¯ Ø­Ø³ÙŠÙ† Ø¹Ø·ÙŠÙ‡ Ø§Ù„Ù„Ù‡ÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:ziyada1@tvtc.gov.sa">ziyada1@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Ziyad5511" target="_blank" rel="noopener">@Ziyad5511</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">ØªØ±ÙƒÙŠ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:turkid@tvtc.gov.sa">turkid@tvtc.gov.sa</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ù…Ø±ÙˆØ§Ù† Ù…Ø­ÙÙˆØ¸ Ø§Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:marwan.j@tvtc.gov.sa">marwan.j@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/EngMarwanJamal" target="_blank" rel="noopener">@EngMarwanJamal</a></div>
                </div>
              </div>

          </div>

          <!-- Ù‚Ø³Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
          <div class="dept-content" id="general">
            <div class="dept-head"><h4>ğŸ“š Ù‚Ø³Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h4></div>
            <div class="staff-grid">

                <div class="staff-card">
                  <div class="staff-name">ğŸ† ÙŠØ§Ø³Ø± Ø£Ø­Ù…Ø¯ Ø­Ø³ÙŠÙ† Ø´ÙˆÙ„Ø§Ù† â€“ Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù… ØªØ¯Ø±ÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:yasirs@tvtc.gov.sa">yasirs@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Yasirshaw1" target="_blank" rel="noopener">@Yasirshaw1</a></div>
                </div>


                <div class="staff-card">
                  <div class="staff-name">ÙÙ‡Ø¯ Ø³Ø¹ÙŠØ¯ Ø§Ù„ØµØ§Ø¹Ø¯ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:fahad.a11@tvtc.gov.sa">fahad.a11@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Fahad_alsaedi" target="_blank" rel="noopener">@Fahad_alsaedi</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ù†ÙˆØ§Ø± Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø«Ø¨ÙŠØªÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:n.althoubaiti@tvtc.gov.sa">n.althoubaiti@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/nawar_33" target="_blank" rel="noopener">@nawar_33</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ù…Ø­Ù…Ø¯ Ø³Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ø±Ù†ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:m.alamrani@tvtc.gov.sa">m.alamrani@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/m_al3mrni" target="_blank" rel="noopener">@m_al3mrni</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø§Ø­Ù…Ø¯ Ø±Ø§Ø¬Ø­ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:a.alotaibi9@tvtc.gov.sa">a.alotaibi9@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Ahmedrajeh" target="_blank" rel="noopener">@Ahmedrajeh</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹ÙˆÙŠØ¯ Ø§Ù„Ø´Ù…Ø±ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:abalshammari@tvtc.gov.sa">abalshammari@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/abalshammari" target="_blank" rel="noopener">@abalshammari</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø®Ø§Ù„Ø¯ Ù…Ù‡Ù†Ø§ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:kalotabay@tvtc.gov.sa">kalotabay@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/Kalotaba" target="_blank" rel="noopener">@Kalotaba</a></div>
                </div>

                <div class="staff-card">
                  <div class="staff-name">Ø§Ø­Ù…Ø¯ Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ø­ÙˆÙŠØ·ÙŠ</div>
                  <div class="staff-contact">ğŸ“§ <a href="mailto:ahmed.a13@tvtc.gov.sa">ahmed.a13@tvtc.gov.sa</a></div>
                  <div class="staff-contact">ğŸ“± <a href="https://t.me/math1111111111" target="_blank" rel="noopener">@math1111111111</a></div>
                </div>
              </div>
          </div>          
        </div>

          <!-- Ù„ÙˆØ­Ø© ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø© -->
          <div id="qualityPanel" class="departments-panel">
            <h3 class="panel-title">ğŸ… ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©</h3>

            
            <div class="quality-showcase" style="margin-bottom:15px">
              <h4>ğŸ“Š Ù…Ø¤Ø´Ø± Ø±Ø¶Ø§ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</h4>
              <p id="qualityTipText" class="quality-tip">â€”</p>
              <div class="quality-kpi">
                <div class="kpi-row">
                  <div class="kpi-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
                  <div class="kpi-value" id="kpiPercText">â€”</div>
                </div>
                <div class="kpi-progress" aria-label="Progress">
                  <div class="kpi-bar" id="kpiBar">â€”</div>
                </div>
                <div class="kpi-actions">
                  <button class="kpi-btn" onclick="openIdeaForm()">ğŸ’¡ Ø´Ø§Ø±Ùƒ Ø¨ÙÙƒØ±Ø© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø©</button>
                  <button class="kpi-btn" onclick="openSurvey()">ğŸ“ Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†</button>
                </div>
              </div>
            </div>

            <div class="service-grid">
              <div class="service-card" title="ÙƒÙŠÙ ØªÙØ³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§ØªØŸ">
                <div class="service-icon">ğŸ“‹</div>
                <div class="service-title">Ø£Ù‡Ù…ÙŠØ© ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª</div>
                <div class="service-desc">ØªØ­Ù„ÙŠÙ„Ùƒ ÙŠÙ‚ÙˆØ¯ Ù‚Ø±Ø§Ø±Ø§Øª ØªØ­Ø³ÙŠÙ† ÙØ¹Ù„ÙŠØ© (Ø®Ø·Ø© ØªØ­Ø³ÙŠÙ†ØŒ ØªØ·ÙˆÙŠØ± Ù…Ø­ØªÙˆÙ‰ØŒ Ø¯Ø¹Ù… Ø¥Ø¶Ø§ÙÙŠ).</div>
              </div>
              <div class="service-card" title="Ø£Ù…Ø«Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ÙŠØ©">
                <div class="service-icon">ğŸ”§</div>
                <div class="service-title">ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø¢Ø±Ø§Ø¦ÙƒÙ…</div>
                <div class="service-desc">ØªØ¹Ø¯ÙŠÙ„ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©ØŒ ØªØ­Ø¯ÙŠØ« Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù‚Ø±Ø±ØŒ ÙˆØªÙØ¹ÙŠÙ„ Ù‚Ù†ÙˆØ§Øª Ø¯Ø¹Ù… Ø³Ø±ÙŠØ¹Ø©.</div>
              </div>
              <div class="service-card" title="Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ø³Ù„Ø§Ù…Ø©">
                <div class="service-icon">ğŸ›¡ï¸</div>
                <div class="service-title">Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø©</div>
                <div class="service-desc">Ø§Ù„Ø¬ÙˆØ¯Ø© ØªØ´Ù…Ù„ Ø¨ÙŠØ¦Ø© Ø¢Ù…Ù†Ø© ÙˆÙ†Ø¸ÙŠÙØ© ÙˆÙ…Ø¹Ø§Ù…Ù„ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ù„ÙŠ.</div>
              </div>
              <div class="service-card" title="Ø§Ù„Ø´ÙØ§ÙÙŠØ©">
                <div class="service-icon">ğŸ”</div>
                <div class="service-title">Ø´ÙØ§ÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
                <div class="service-desc">Ù†Ø´Ø± Ù…Ù„Ø®ØµØ§Øª Ø¯ÙˆØ±ÙŠØ© Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø¶Ø§ ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ®Ø°Ø©.</div>
              </div>
            </div>
            <div class="quality-showcase" style="margin-top:15px">
              <h4>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©</h4>

              <!-- Ù†Øµ Ø§Ù„Ù†ØµÙŠØ­Ø© -->
              <p id="tipsKPIText" class="quality-tip">â€”</p>

              <!-- Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù‘Ù… Ù„ÙƒÙ„ Ù†ØµÙŠØ­Ø© -->
              <div class="kpi-progress" style="margin-top:10px">
                <div class="kpi-bar" id="tipsKPIBar">â€”</div>
              </div>
            </div>
          </div>

      
              <!-- Ù„ÙˆØ­Ø© Ù…Ø¯ÙŠØ± Ø§Ù„ØªØ¯Ø±Ø¨ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
      <div id="supportPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ› ï¸ ğŸ§‘â€ğŸ’» Ù…Ø¯ÙŠØ± Ø§Ù„ØªØ¯Ø±Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h3>
        <div class="service-grid">
          <div class="service-card" onclick="openTelegram('khaledAlharthi')" title="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…">
            <div class="service-icon">ğŸ’¬</div>
            <div class="service-title">Ù‚Ù†Ø§Ø© Ø§Ù„Ø¯Ø¹Ù…</div>
            <div class="service-desc">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø£Ø¹Ø·Ø§Ù„</div>
          </div>
          <div class="service-card" onclick="alert('Ø§Ù„Ø¨Ø±ÙŠØ¯: lmsadminhlct@tvtc.gov.sa')" title="Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯">
            <div class="service-icon">âœ‰ï¸</div>
            <div class="service-title">Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¯Ø¹Ù…</div>
            <div class="service-desc">lmsadminhlct@tvtc.gov.sa</div>
          </div>
        </div>
      </div>

      <!-- Ù„ÙˆØ­Ø© Ø§ØªØµÙ„ Ø¨Ù†Ø§ -->
      <div id="contactPanel" class="departments-panel">
        <h3 class="panel-title">ğŸ“ Ø§ØªØµÙ„ Ø¨Ù†Ø§</h3>
        <div class="service-grid">
          <div class="service-card" onclick="window.location='mailto:HLCT@tvtc.gov.sa'">
            <div class="service-icon">âœ‰ï¸</div>
            <div class="service-title">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¹Ø§Ù…</div>
            <div class="service-desc">HLCT@tvtc.gov.sa</div>
          </div>
          <div class="service-card" onclick="window.open('tel:+966144510265')">
            <div class="service-icon">â˜ï¸</div>
            <div class="service-title">Ø§Ù„Ù‡Ø§ØªÙ</div>
            <div class="service-desc">+966144510265</div>
          </div>
          <div class="service-card" onclick="openTelegram('EngFahadSaleh')" title="ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…">
            <div class="service-icon">ğŸ‘¨â€ğŸ«</div>
            <div class="service-title">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ù„Ù„Ù…ÙˆÙ‚Ø¹</div>
            <div class="service-desc">Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„Ù‰ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</div>
          </div>
        </div>
      </div>

        <div id="tickerSeparator" class="ui-sep" role="separator" aria-label="Ù†ØµØ§Ø¦Ø­ ÙˆØ¯Ø¹Ù…">
          <span class="chip">ØªÙˆØ¬ÙŠÙ‡Ø§Øª Ø¥Ø±Ø´Ø§Ø¯ÙŠØ©</span>
        </div>

        <!-- Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
        <div class="tips-ticker" title="Ø§Ù†ØªØ¸Ø± Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©">
          <div class="ticker-content" id="tickerText"></div>
        </div>


        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
      <div class="stats-pro" dir="rtl">
        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸ“…</span>
            <span class="sp-title">ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</span>
          </div>
          <div class="sp-value" id="sp-lastUpdate">â€”</div>
        </div>

        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸŒ</span>
            <span class="sp-title">Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</span>
          </div>
          <div class="sp-chip" id="sp-system" data-state="ok">Ù…ØªØµÙ„</div>
        </div>

        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸ“Š</span>
            <span class="sp-title">Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
          </div>
          <div class="sp-chip" id="sp-db" data-state="ok">Ù…Ø­Ø¯Ù‘Ø«Ø©</div>
        </div>

        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸ‘¥</span>
            <span class="sp-title">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</span>
          </div>
          <div class="sp-value" id="sp-registered">â€”</div>
        </div>

        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸ§‘â€ğŸ¤â€ğŸ§‘</span>
            <span class="sp-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø²ÙˆØ§Ø±</span>
          </div>
          <div class="sp-value" id="sp-total">â€”</div>
        </div>

        <div class="sp-item">
          <div class="sp-head">
            <span class="sp-icon">ğŸ‘¤</span>
            <span class="sp-title">Ø²ÙˆØ§Ø± Ø§Ù„ÙŠÙˆÙ…</span>
          </div>
          <div class="sp-value sp-today" id="sp-today">
            <span class="sp-trend" id="sp-trend">â†’</span><span id="sp-todayNum">â€”</span>
          </div>
        </div>
      </div>

        <script>
        function toggleSearchBox(){
          const box = document.getElementById("searchBox");
          box.style.display = (box.style.display === "none" ? "block" : "none");
        }
</script>
        
    <script>
    /* Ø¥Ø¹Ø¯Ø§Ø¯ Google Sheets - ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„ÙˆØ±Ù‚Ø© "Ø¹Ø§Ù…Ù‘Ø©" Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© */
    const GOOGLE_SHEETS_CONFIG = {
      sheetId: "1xKt-BapW_0XRSE2Ci_CrnoAdxsQy4VbH4X9o_5hHmvw",
      gid: 0,
      fallbackDelay: 3000
    };


    // Ù‚Ø³Ù… Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ( Ø­ÙŠØ« ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ) 


    // ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø§Ù„Ø²ÙˆØ§Ø± (Google Apps Script Web App)
    const VISIT_API_URL = "https://script.google.com/macros/s/AKfycbypZzeGayJNP1Wqq_zVVKR2hS7_NtxfsMfJyJsKXxDjkYmf8MrF6OKfUIbQfV_Nhq492w/exec"; // Ø¶Ø¹ Ø±Ø§Ø¨Ø·Ùƒ Ù‡Ù†Ø§

    // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ù‡Ù†Ø§
    const ACADEMIC_CALENDAR_URL = "https://mttvtcedu-my.sharepoint.com/:b:/g/personal/fahadsaleh_tvtc_gov_sa/EX2TljComg1PvVu8Tkm0I3sBjry7zeI0N7WKkcshbp8mdQ?e=fR7lAv";

    // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ ÙˆØ§Ù„Ø®Ø·Ø· Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù‡Ù†Ø§
   const REFERENCES_URL  = "https://mttvtcedu-my.sharepoint.com/:f:/g/personal/fahadsaleh_tvtc_gov_sa/Ej6EIwJ6h0ZIpy4cOY1UPoQB9NusnDgppl3ydRFEikaDIA";

    // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ù‡Ù†Ø§
    const DIGITAL_LIBRARY_URL = "https://elearning.edu.sa/olib/";
    
    //Ø±Ø§Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ù…ØªØ¯Ø±Ø¨ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ 
    const STUDENT_GUIDE_URL = "https://mttvtcedu-my.sharepoint.com/:b:/g/personal/fahadsaleh_tvtc_gov_sa/EXibvrNI17FMiIz2DlYra0YBoCIiYu7QY0UrQPQ3jPPfgg?e=SRAc2M"; // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù‡Ù†Ø§




    // ÙÙŠÙ…Ø§ ÙŠØ®Øµ Ù…Ø¨Ø§Ø¯Ø±Ù‡ Ø±Ø§ÙØ¯
    const RAFED_URL   = "https://forms.office.com/r/es0XrQt4r5";//   Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ Ø±Ø§ÙØ¯ Ù‡Ù†Ø§
    const RAFED_GUIDE_URL  = "https://mttvtcedu-my.sharepoint.com/:b:/g/personal/fahadsaleh_tvtc_gov_sa/EcVA8lZP1RxCikp0TZTAREcBnTOTtCUN9YHGQVIe6EqC6Q?e=QceNRz";  //      ğŸ“„ Ø¯Ù„ÙŠÙ„ Ø±Ø§ÙØ¯ (PDF)


// ÙÙŠÙ…Ø§ ÙŠØ®Øµ Ù…Ø¨Ø§Ø¯Ø±Ù‡ ØµÙˆØªÙƒ Ù…Ø³Ù…ÙˆØ¹
    const VOICE_URL = "https://forms.gle/4C5VxQPaNfjnPRAY6"; // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ ØµÙˆØªÙƒ Ù…Ø³Ù…ÙˆØ¹



    // Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ±Ù‚Ø© Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª (Ø§Ø³ØªØ®Ø¯Ù… Ù†ÙØ³ sheetIdØŒ ÙˆØºÙŠÙ‘Ø± gid Ù„ÙˆØ±Ù‚Ø© "Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª")
        const COURSES_CONFIG = {
          sheetId: "1xKt-BapW_0XRSE2Ci_CrnoAdxsQy4VbH4X9o_5hHmvw", // Ø£Ùˆ Ø¶Ø¹ sheetId Ù…Ø®ØªÙ„Ù Ù„Ùˆ ÙƒØ§Ù†Øª Ø¨ÙˆØ±Ù‚Ø© Ø«Ø§Ù†ÙŠØ©
          gid: 2012741450                          // â† Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¨Ù€ gid Ù„ÙˆØ±Ù‚Ø© Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª
        };



                /* ===== ÙˆÙƒØ§Ù„Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©: Ø±ÙˆØ§Ø¨Ø· ÙˆÙ†Ø³Ø¨Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ===== */
        const IDEA_FORM_URL   = "https://forms.office.com/your-idea-form";   // â† Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ "Ø´Ø§Ø±Ùƒ Ø¨ÙÙƒØ±Ø©"
        const SURVEY_URL      = "https://forms.office.com/your-satisfaction"; // â† Ø±Ø§Ø¨Ø· Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø§Ù„Ø±Ø¶Ø§
        let   SATISFACTION_PERC = 95;  // Ù†Ø³Ø¨Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨Ù‡Ø§ Ù…Ù† Google Sheets Ù„Ø§Ø­Ù‚Ù‹Ø§)

        /* Ø§ÙØªØ­ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
        function openIdeaForm(){
          if(!IDEA_FORM_URL) return alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙÙƒØ§Ø± Ø¨Ø¹Ø¯.");
          window.open(IDEA_FORM_URL, "_blank", "noopener");
        }
        function openSurvey(){
          if(!SURVEY_URL) return alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø¨Ø¹Ø¯.");
          window.open(SURVEY_URL, "_blank", "noopener");
        }

        /* ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø¤Ø´Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        function initQualityKPI(perc){
          const p = Math.max(0, Math.min(100, Number(perc)||0));
          const bar = document.getElementById("kpiBar");
          const txt = document.getElementById("kpiPercText");
          if(!bar || !txt) return;
          txt.textContent = p.toFixed(0) + "%";
          bar.textContent = p.toFixed(0) + "%";
          requestAnimationFrame(()=>{ bar.style.width = p + "%"; });
        }

        /* Ù†Ø¯Ø§Ø¡ Ø¯Ø§Ø®Ù„ initializeApp Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        document.addEventListener("DOMContentLoaded", ()=>{
          // ÙŠÙ…ÙƒÙ†Ùƒ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ SATISFACTION_PERC Ø¨Ù‚ÙŠÙ…Ø© Ù…Ù† Google Sheets
          initQualityKPI(SATISFACTION_PERC);
        });

    /* Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
    let trainersData = {};
    let isDataLoaded = false;
    let stats = { today: 0, total: 0, last: "---" };
    let coursesBySection = {};   // ÙÙ‡Ø±Ø³ Ø¨Ø±Ù‚Ù… Ø§Ù„Ø´Ø¹Ø¨Ø© â†’ Ø³Ø¬Ù„ Ø§Ù„Ù…Ù‚Ø±Ø±
    let sectionList = [];        // Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª


    /* ===== Ù†ØµÙˆØµ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø±Ø§ÙØ¯ + Ø¨Ø·Ø§Ù‚Ø§Øª Ù„Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† ===== */

    document.addEventListener("DOMContentLoaded", () => {
      /* ===== Ø±Ø§ÙØ¯ ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† QR) ===== */
      (() => {
        const isValidUrl = (u) => typeof u === "string" && /^https?:\/\//i.test(u);

        // ØªØ¹Ø±ÙŠÙ Ù…ÙˆØ¬Ø² Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
        const initEl = document.getElementById("initiativeContent");
        if (initEl) {
          initEl.innerHTML =
            'Ù…Ø¨Ø§Ø¯Ø±Ø© <strong>Ø±Ø§ÙØ¯</strong> Ù…Ù† Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠ ØªÙÙ…ÙƒÙ‘Ù†Ùƒ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ <em>Ø£Ø«Ù†Ø§Ø¡ Ø¯Ø±Ø§Ø³ØªÙƒ</em> Ø¹Ø¨Ø± Ù…Ù†ØµØ§Øª (Ù…Ø±Ù†/Ø¹Ù† Ø¨ÙØ¹Ø¯/Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±)ØŒ Ù…Ø¹ Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø®Ø¨Ø±Ø© Ø¨Ø§Ù„ØªØ£Ù…ÙŠÙ†Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŒ ÙˆØ¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† <strong>Ø±Ø§ØªØ¨ Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„</strong> Ùˆ<strong>Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</strong>ØŒ ÙˆÙ‚Ø¯ ØªÙØ¹ÙÙ‰ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ Ø¹Ù†Ø¯ Ø§Ø³ØªÙŠÙØ§Ø¡ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.';
        }

        // ÙˆØµÙ Ø¯Ø§Ø®Ù„ Ù„ÙˆØ­Ø© Ø±Ø§ÙØ¯
        const descEl = document.getElementById("rafedDesc");
        if (descEl) {
          descEl.innerHTML =
            'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†: Ø³Ø¬Ù‘Ù„ Ù„Ø¯Ù‰ Ù…Ø³Ø¤ÙˆÙ„ Ø±Ø§ÙØ¯ ÙÙŠ ÙƒÙ„ÙŠØªÙƒØŒ Ø§Ø¹Ù…Ù„ Ø±Ø³Ù…ÙŠÙ‹Ø§ Ø¹Ø¨Ø± Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª (Ø¹Ù‚Ø¯ + ØªØ³Ø¬ÙŠÙ„ ØªØ£Ù…ÙŠÙ†Ø§Øª)ØŒ Ø«Ù… Ø±Ø§Ø¬Ø¹Ù‡ ÙÙŠ <strong>Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø¹Ø§Ø´Ø±</strong> Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª.';
        }

        // Ø­Ù‚Ù† Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© Ù‚Ø¨Ù„ Ø´Ø¨ÙƒØ© Ø§Ù„Ù€ QR (Ù„ÙˆØ­Ø© Ø±Ø§ÙØ¯)
        (function enhanceRafedPanel() {
          const panel = document.getElementById("rafedPanel");
          if (!panel) return;

          const qrGrid = panel.querySelector(".service-grid");
          if (!qrGrid) return;

          // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
          if (panel.querySelector("#rafedQuickInfo")) return;

          const html = `
            <div id="rafedQuickInfo" class="service-grid">
              <!-- Ø§Ù„Ù…Ø²Ø§ÙŠØ§ -->
              <div class="service-card" title="Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©">
                <div class="service-icon">âœ…</div>
                <div class="service-title">Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</div>
                <div class="service-desc" style="text-align:right">
                  <ul style="margin:0;padding-inline-start:18px;line-height:1.8">
                    <li>Ø§Ù„Ø¹Ù…Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© (Ù…Ø±Ù†/Ø¹Ù† Ø¨ÙØ¹Ø¯/Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø±).</li>
                    <li>Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø±Ø§ØªØ¨ Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©.</li>
                    <li>Ø§Ø­ØªØ³Ø§Ø¨ Ø®Ø¨Ø±Ø© Ø¨Ø§Ù„ØªØ£Ù…ÙŠÙ†Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ØªØ¹Ø²Ù‘Ø² ÙØ±Øµ Ø§Ù„ØªÙˆØ¸ÙŠÙ.</li>
                    <li>Ø¥Ø¹ÙØ§Ø¡ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ Ø¹Ù†Ø¯ Ø§Ø³ØªÙŠÙØ§Ø¡ Ø§Ù„Ù…Ø¯Ø©:
                      <strong>6 Ø£Ø´Ù‡Ø±</strong> Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ®ØµØµ Ø£Ùˆ <strong>12 Ø´Ù‡Ø±Ù‹Ø§</strong> ÙÙŠ ØºÙŠØ± Ø§Ù„ØªØ®ØµØµ.</li>
                    <li>ØªÙƒØ±ÙŠÙ… Ù„Ø£ØµØ­Ø§Ø¨ Ø£Ø¹Ù„Ù‰ Ø³Ø§Ø¹Ø§Øª Ø¹Ù…Ù„ Ø¨Ù†Ù‡Ø§ÙŠØ© ÙƒÙ„ ÙØµÙ„ ØªØ¯Ø±ÙŠØ¨ÙŠ.</li>
                  </ul>
                </div>
              </div>

              <!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª -->
              <div class="service-card" title="Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ù„ØªØ­Ø§Ù‚">
                <div class="service-icon">ğŸ§­</div>
                <div class="service-title">Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø§Ù„ØªØ­Ø§Ù‚</div>
                <div class="service-desc" style="text-align:right">
                  <ol style="margin:0;padding-inline-start:18px;line-height:1.8">
                    <li>Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù„Ø¯Ù‰ <strong>Ù…Ø³Ø¤ÙˆÙ„ Ø±Ø§ÙØ¯</strong> ÙÙŠ Ø§Ù„ÙƒÙ„ÙŠØ© (Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„).</li>
                    <li>Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø§Ù„Ø¹Ù…Ù„ Ø¹Ø¨Ø± Ù…Ù†ØµØ© Ù…Ø¹ØªÙ…Ø¯Ø© ÙˆØ¥Ø­Ø¶Ø§Ø± <strong>Ø¹Ù‚Ø¯ Ø§Ù„Ø¹Ù…Ù„</strong> + <strong>Ø¥Ø«Ø¨Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø§Ù„ØªØ£Ù…ÙŠÙ†Ø§Øª</strong>.</li>
                    <li>Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…Ø³Ø¤ÙˆÙ„ Ø±Ø§ÙØ¯ ÙÙŠ <strong>Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø¹Ø§Ø´Ø±</strong> Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ·Ù„Ø¨ Ø§Ù„Ø¥Ø¹ÙØ§Ø¡ (Ø¥Ø°Ø§ Ø§Ù†Ø·Ø¨Ù‚Øª Ø§Ù„Ø´Ø±ÙˆØ·).</li>
                  </ol>
                </div>
              </div>

              <!-- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
              <div class="service-card" title="ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…Ù‡Ù…Ø©">
                <div class="service-icon">âš ï¸</div>
                <div class="service-title">ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…Ù‡Ù…Ø©</div>
                <div class="service-desc" style="text-align:right">
                  <ul style="margin:0;padding-inline-start:18px;line-height:1.8">
                    <li>ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¹Ù…Ù„ <strong>Ù…ÙˆØ«Ù‚Ù‹Ø§ Ø±Ø³Ù…ÙŠÙ‹Ø§</strong> (Ø¹Ù‚Ø¯ + ØªØ£Ù…ÙŠÙ†Ø§Øª) Ù„ÙŠÙØ­ØªØ³Ø¨ Ø¶Ù…Ù† Ø±Ø§ÙØ¯.</li>
                    <li>ØªØ£ÙƒÙ‘Ø¯ Ù…Ù† <strong>Ø¹Ø¯Ù… ØªØ¹Ø§Ø±Ø¶ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„</strong> Ù…Ø¹ Ø¬Ø¯Ø§ÙˆÙ„Ùƒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©.</li>
                    <li>Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù‚Ø¯ ØªØ®ØªÙ„Ù Ø¨ÙŠÙ† Ø§Ù„ÙƒÙ„ÙŠØ§Øª â€” Ù…Ø±Ø¬Ø¹Ùƒ Ù‡Ùˆ <strong>Ù…Ø³Ø¤ÙˆÙ„ Ø±Ø§ÙØ¯</strong> ÙÙŠ ÙƒÙ„ÙŠØªÙƒ.</li>
                  </ul>
                </div>
              </div>

              <!-- Ø¨Ø·Ø§Ù‚Ø© Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø© + Ø§Ù„ØªÙˆØ§ØµÙ„ (Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙƒØ§Ù…Ù„ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©) -->
              <div class="service-card" title="Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©">
                <div class="service-icon">ğŸ”—</div>
                <div class="service-title">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</div>

                <div class="service-desc" style="display:flex;flex-direction:column;gap:10px">

                  <!-- Ø§Ù„Ø±ÙˆØ§Ø¨Ø· -->
                  <a id="rafedOpenLink" class="btn"
                    style="padding:10px;border-radius:10px;text-decoration:none;text-align:center"
                    target="_blank" rel="noopener">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø±Ø§ÙØ¯</a>

                  <a id="rafedGuideLink2" class="btn"
                    style="padding:10px;border-radius:10px;text-decoration:none;text-align:center"
                    target="_blank" rel="noopener">ğŸ“„ Ø¯Ù„ÙŠÙ„ Ø±Ø§ÙØ¯ (PDF)</a>

                  <!-- ÙØ§ØµÙ„ Ø¹Ù†ÙˆØ§Ù†ÙŠ ØµØºÙŠØ± -->
                  <div style="display:flex;align-items:center;gap:8px;margin:6px 0 2px;">
                    <span style="font-weight:700;">Ø§Ù„ØªÙˆØ§ØµÙ„</span>
                    <div style="flex:1;height:1px;background:#e5e7eb;"></div>
                  </div>

                  <!-- Ù‚Ù†ÙˆØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ -->
                  <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px;font-size:.95rem;">
                    <li style="display:flex;align-items:center;gap:8px;">
                      <span aria-hidden="true">ğŸ¢</span>
                      <span style="font-weight:600;">Ø±Ù‚Ù… Ø§Ù„Ù…ÙƒØªØ¨:</span>
                      <span dir="ltr" style="font-family:monospace;">1750111114</span>
                      <button type="button" onclick="copyText('1750111114')" 
                              style="margin-inline-start:auto;padding:.25rem .5rem;border-radius:8px;border:1px solid #e5e7eb;background:#f9fafb;cursor:pointer;">
                        Ù†Ø³Ø®
                      </button>
                    </li>

                    <li style="display:flex;align-items:center;gap:8px;">
                      <span aria-hidden="true">ğŸ’¬</span>
                      <span style="font-weight:600;">Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…:</span>
                      <a href="javascript:void(0)" onclick="openTelegram('muath_alsharifi')" 
                        style="text-decoration:underline;">@muath_alsharifi</a>
                    </li>

                    <li style="display:flex;align-items:center;gap:8px;">
                      <span aria-hidden="true">âœ‰ï¸</span>
                      <span style="font-weight:600;">Ø§Ù„Ø¨Ø±ÙŠØ¯:</span>
                      <a href="mailto:muath.a2@tvtc.gov.sa" style="direction:ltr;">muath.a2@tvtc.gov.sa</a>
                    </li>
                  </ul>

                </div>
              </div>
              </div>
              `;
                        
              qrGrid.insertAdjacentHTML("beforebegin", html);

              /* Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø¥Ø¶Ø§ÙØ© contactHtml Ø£Ùˆ panel.insertAdjacentHTML("beforeend", contactHtml);
                ØªÙ… Ø¥Ø¯Ø±Ø§Ø¬ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£Ø¹Ù„Ø§Ù‡. */

              /* Ù…ÙØ³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø³Ø® (Ù„Ù† ÙŠÙØ¹Ø±Ù‘Ù Ù…Ø±Ù‘Ø© Ø«Ø§Ù†ÙŠØ© Ø¥Ù† ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ù„Ø¯ÙŠÙƒ) */
              if (typeof copyText !== 'function') {
                function copyText(t){
                  try{
                    navigator.clipboard.writeText(t).then(()=>alert('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ.'));
                  }catch(e){
                    const ta=document.createElement('textarea');
                    ta.value=t; document.body.appendChild(ta);
                    ta.select(); document.execCommand('copy'); ta.remove();
                    alert('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ.');
                  }
                }
              }


          // Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„Ø±Ø§Ø¨Ø·ÙŠÙ† Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠÙŠÙ†
          const openA  = panel.querySelector("#rafedOpenLink");
          const guideA = panel.querySelector("#rafedGuideLink2");

          if (openA) {
            if (isValidUrl(RAFED_URL)) {
              openA.href = RAFED_URL;
            } else {
              openA.href = "javascript:void(0)";
              openA.addEventListener("click", () => alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø±Ø§ÙØ¯ Ø¨Ø¹Ø¯."));
            }
          }

          if (guideA) {
            if (isValidUrl(RAFED_GUIDE_URL)) {
              guideA.href = RAFED_GUIDE_URL;
            } else {
              guideA.href = "javascript:void(0)";
              guideA.addEventListener("click", () => alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø¯Ù„ÙŠÙ„ Ø±Ø§ÙØ¯ Ø¨Ø¹Ø¯."));
            }
          }

          // âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ ÙƒÙˆØ¯ QR Ù‡Ù†Ø§
        })();
      })();
    });


    /* Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† */
    const tips = [
      "â° Ù†Ø³Ø¨Ø© Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ Ù‡ÙŠ 20% ÙÙ‚Ø· ÙØ§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· ÙˆØ¹Ø¯Ù… Ø§Ù„ØªØ£Ø®Ø±",
      "ğŸ“Œ ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„ØºÙŠØ§Ø¨ Ù…Ù† Ø£ÙˆÙ„ Ù…Ø­Ø§Ø¶Ø±Ø© ÙÙ„Ø§ ØªØ³ØªÙ‡ÙŠÙ† Ø¨Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ù…Ø¨ÙƒØ±",
      "ğŸ™‹â€â™‚ï¸ Ø§Ø³ØªØ´Ø± Ù…Ø±Ø´Ø¯Ùƒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙÙ‡Ùˆ Ø­Ø±ÙŠØµ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ",
      "ğŸ“ˆ Ø§Ù„ØªØ²Ø§Ù…Ùƒ Ø¨Ø§Ù„Ø­Ø¶ÙˆØ± ÙŠØ³Ø§Ù‡Ù… ÙÙŠ Ø±ÙØ¹ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ ÙˆÙÙ‡Ù…Ùƒ Ù„Ù„Ù…Ù‚Ø±Ø±",
      "ğŸ“š Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ¹Ø¯Ù… ØªØ£Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©",
      "ğŸ› ï¸ Ø£Ø­Ø¶Ø± Ø£Ø¯ÙˆØ§ØªÙƒ (Ù‚Ù„Ù…ØŒ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©ØŒ Ø£Ø¯ÙˆØ§Øª Ù‡Ù†Ø¯Ø³ÙŠØ©) Ù‚Ø¨Ù„ ÙƒÙ„ Ø§Ø®ØªØ¨Ø§Ø±",
      "âŒ› Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ø¬Ø¯ Ù‚Ø¨Ù„ Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù€ 15 Ø¯Ù‚ÙŠÙ‚Ø©",
      "â“ Ø¯Ø±Ù‘Ø¨ Ù†ÙØ³Ùƒ Ø¨Ø·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙˆÙ‚Ø¹Ø© Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬ÙŠØ¯ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±",
      "ğŸ’ª ØªÙØ§Ø¡Ù„ Ø¨Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ¶Ø¹ Ù‡Ø¯ÙÙƒ ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©",
      "ğŸ™ Ø§Ø³ØªØ¹Ù† Ø¨Ø§Ù„Ù„Ù‡ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙƒÙ† Ù…Ø·Ù…Ø¦Ù†Ø§Ù‹",
      "ğŸ“– Ø§Ù‚Ø±Ø£ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙˆØ§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø³Ù‡Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹",
      "ğŸ“ Ø±Ø§Ø¬Ø¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ø¨Ø¯Ù‚Ø© Ù‚Ø¨Ù„ ØªØ³Ù„ÙŠÙ… ÙˆØ±Ù‚Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±",
      "ğŸ¤ Ø§Ø³Ø£Ù„ Ù…Ø¯Ø±Ø¨ Ø§Ù„Ù…Ù‚Ø±Ø± Ø¹Ù† Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ØµØ¹Ø¨Ø© Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯",
      "ğŸ¯ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù†Ø¶Ø¨Ø§Ø·Ùƒ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¹Ø© Ø£Ùˆ Ø§Ù„Ù…Ø¹Ù…Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"
    ];

    /* Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¬ÙˆØ¯Ø© (Ø¹Ø±Ø¶ ØªÙ†Ø§ÙˆØ¨ÙŠ) */
    const qualityTips = [
      "Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠ ØªØ·Ø¨Ù‚ Ù†Ø¸Ù… Ø¬ÙˆØ¯Ø© Ù…Ø¹ØªÙ…Ø¯Ø© Ø¯ÙˆÙ„ÙŠØ§Ù‹.",
      "Ø§Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³ØªÙ…Ø± Ø¬Ø²Ø¡ Ø£Ø³Ø§Ø³ÙŠ Ù…Ù† Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ø¯Ù‰ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨.",
      "Ø§Ù„Ø´Ø±Ø§ÙƒØ§Øª Ù…Ø¹ Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø®Ø§Øµ ØªØ¹Ø²Ø² Ù…ÙˆØ§Ø¡Ù…Ø© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ù…Ø¹ Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„.",
      "Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© Ù…Ù† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† ØªÙØ³ØªØ®Ø¯Ù… Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬.",
      "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„ØµØ­Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙÙ‚.",
      "ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙŠØ±ÙØ¹ Ù…Ù† Ø¬ÙˆØ¯Ø© ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…ØªØ¯Ø±Ø¨."
    ];

    // Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠ
    const accreditationTips = [
      "ÙˆØ«Ù‘Ù‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙˆØ­Ø¯Ø«Ù‡Ø§ Ø¯ÙˆØ±ÙŠØ§Ù‹.",
      "Ø£Ø«Ø¨Øª ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø­ÙˆÙƒÙ…Ø© ÙˆØ§Ù„Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§.",
      "Ø§Ø±Ø¨Ø· Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¨Ø£Ø¯Ù„Ø© Ù‚ÙŠØ§Ø³ Ù…Ø¹ØªÙ…Ø¯Ø©.",
      "Ø£Ø¸Ù‡Ø± Ù…ÙˆØ§Ø¡Ù…Ø© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ù…Ø¹ Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø´Ø±Ø§ÙƒØ§Øª.",
      "Ø­Ø³Ù‘Ù† Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø©."
    ];

    /* Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
    document.addEventListener("DOMContentLoaded", () => {
      showLoadingOverlay();
      initializeApp();
    });


        function getVisitorId() {
      const KEY = "hlct_visitor_id";
      let id = localStorage.getItem(KEY);
      if (!id) {
        id = (crypto.randomUUID ? crypto.randomUUID() : (Date.now() + Math.random().toString(36).slice(2)));
        localStorage.setItem(KEY, id);
      }
      return id;
    }

    async function trackVisitAndUpdateCounts() {
      if (!VISIT_API_URL) return;
      try {
        const url = `${VISIT_API_URL}?uid=${encodeURIComponent(getVisitorId())}&ua=${encodeURIComponent(navigator.userAgent)}`;
        const res = await fetch(url, { cache: "no-store" });
        if (!res.ok) throw new Error("visit api failed");
        const data = await res.json();

        // Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ²ÙˆØ§Ø± Ø§Ù„ÙŠÙˆÙ… (ÙˆØ§Ø¬Ù‡Ø© Stats Pro)
        const fmt = (n) => Number(n || 0).toLocaleString("ar-SA");
        const totalUnique = Number(data.totalUnique || 0);
        const todayUnique = Number(data.todayUnique || 0);

        const totalEl = document.getElementById("sp-total");
        if (totalEl) totalEl.textContent = fmt(totalUnique);

        // ØªØ±Ù†Ø¯ Ø§Ù„ÙŠÙˆÙ… Ù…Ù‚Ø§Ø±Ù†Ø©Ù‹ Ø¨Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        const TODAY_KEY = "hlct_today_date";
        const COUNT_KEY = "hlct_today_count";
        const todayStr  = new Date().toISOString().slice(0,10);
        const prevDate  = localStorage.getItem(TODAY_KEY);
        const prevCount = Number(localStorage.getItem(COUNT_KEY) || 0);

        updateToday(todayUnique, (prevDate === todayStr ? prevCount : null));

        localStorage.setItem(TODAY_KEY, todayStr);
        localStorage.setItem(COUNT_KEY, String(todayUnique));

        // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
        const last = data.lastUpdate || new Date().toLocaleString("ar-SA");
        const lu = document.getElementById("sp-lastUpdate");
        if (lu) lu.textContent = last;

      } catch (e) {
        console.error("visit api failed:", e);
      }
    }





    /* ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
async function initializeApp() {
  try {
    await initializeData();
    await initializeCoursesData();

    updateSystemStats();
    startTickerRotation();
    startQualityTipsRotation(); // ØªØ¨Ù‚Ù‰ Ù‡Ù†Ø§ ÙÙ‚Ø·

    // âœ… ØªØ´ØºÙŠÙ„ Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯Ø§Ø®Ù„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©
    const tipsTextEl = document.querySelector('#qualityPanel #tipsKPIText');
    const tipsBarEl  = document.querySelector('#qualityPanel #tipsKPIBar');
    if (tipsTextEl && tipsBarEl) {
      initTipsKPI({
        tips: accreditationTips,
        textEl: tipsTextEl,
        barEl: tipsBarEl,
        duration: 6000
      });
    }

    setupEventListeners();
    toggleMentorSearch(true);
    setupServiceWorker();
    trackVisitAndUpdateCounts();
  } catch (error) {
    console.error("Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:", error);
    showMessage("error", "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©.");
    loadDemoData();
  } finally {
    setTimeout(hideLoadingOverlay, 1200);
  }
}


    /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    function showLoadingOverlay() {
      document.getElementById("loadingOverlay").style.display = "flex";
    }
    function hideLoadingOverlay() {
      document.getElementById("loadingOverlay").style.display = "none";
    }


    /* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheets ÙƒÙ€ CSV */
    async function initializeData(){
      const url = `https://docs.google.com/spreadsheets/d/${GOOGLE_SHEETS_CONFIG.sheetId}/export?format=csv&gid=${GOOGLE_SHEETS_CONFIG.gid}`;
      try {
            const res = await fetch(url, { cache: "no-store" });
        if (!res.ok) throw new Error("ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Google Sheets");
        const csv = await res.text();

        const rows = parseCSV(csv);
        if (!rows.length) throw new Error("Ù…Ù„Ù CSV ÙØ§Ø±Øº");

        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø© (Ù…Ø±Ù†Ø© Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©/Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©)
        const mapKey = (h) => normalize(h)
          .replace(/[\s_]+/g, "")
          .replace(/[^\u0600-\u06FFa-z0-9]/g, "");

        const header = rows[0].map(mapKey);
        const idx = (keys) => {
          const wanted = keys.map(mapKey);
          for (let i = 0; i < header.length; i++) {
            if (wanted.includes(header[i])) return i;
          }
          return -1;
        };

        const col = {
          traineeId: idx(["Ø§Ù„Ø±Ù‚Ù…Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ","Ø±Ù‚Ù…Ø§Ù„Ù…ØªØ¯Ø±Ø¨","traineeid","studentid","id"]),
          traineeName: idx(["Ø§Ù„Ø§Ø³Ù…","Ø§Ù„Ø§Ø³Ù…Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„","Ø§Ù„Ø§Ø³Ù…Ø¨Ø§Ù„ÙƒØ§Ù…Ù„","traineename","name"]),
          mentorName: idx(["Ø§Ø³Ù…Ø§Ù„Ù…Ø±Ø´Ø¯","Ø§Ù„Ù…Ø±Ø´Ø¯","mentor","advisor","Ø§Ø³Ù…Ø§Ù„Ù…Ø±Ø´Ø¯Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ"]),
          office: idx(["Ø§Ù„Ù…ÙƒØªØ¨","Ø±Ù‚Ù…Ø§Ù„Ù…ÙƒØªØ¨","office","room"]),
          telegram: idx(["Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…","Ù…Ø¹Ø±ÙØ§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…","telegram","tg","Ø­Ø³Ø§Ø¨Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…"]),
          email: idx(["Ø§Ù„Ø¨Ø±ÙŠØ¯","Ø§Ù„Ø¨Ø±ÙŠØ¯Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ","email","mail"]),
          group: idx(["Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©","Ø±Ø§Ø¨Ø·Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©","grouplink","telegramgroup","whatsappgroup"]),
          dept: idx(["Ø§Ù„Ù‚Ø³Ù…","Ø§Ù„ØªØ®ØµØµ","Ø§Ù„Ù‚Ø³Ù…Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ","department","dept"])
        };

        // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        trainersData = {};
        const allMentorNames = new Set();
        let records = [];

        for (let r = 1; r < rows.length; r++) {
          const row = rows[r];
          if (!row || !row.length) continue;

          const rec = {
            traineeId: getCell(row, col.traineeId),
            traineeName: getCell(row, col.traineeName),
            mentorName: getCell(row, col.mentorName),
            office: getCell(row, col.office),
            telegram: cleanHandle(getCell(row, col.telegram)),
            email: getCell(row, col.email),
            group: getCell(row, col.group),
            dept: getCell(row, col.dept)
          };

          if (!rec.traineeId && !rec.traineeName && !rec.mentorName) continue;

          // ÙÙ‡Ø±Ø³Ø© Ø¨Ø­Ø³Ø¨ Ø±Ù‚Ù… Ø§Ù„Ù…ØªØ¯Ø±Ø¨
          if (rec.traineeId) {
            const key = normalize(rec.traineeId);
            trainersData["id:" + key] = rec;
          }
          // ÙÙ‡Ø±Ø³Ø© Ø¨Ø­Ø³Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯ (Ù‚Ø§Ø¦Ù…Ø©)
          if (rec.mentorName) {
            const mkey = "mentor:" + normalize(rec.mentorName);
            if (!trainersData[mkey]) trainersData[mkey] = [];
            trainersData[mkey].push(rec);
            allMentorNames.add(rec.mentorName.trim());
          }

          records.push(rec);
        }

        isDataLoaded = true;

        // Ø¹Ø¯Ù‘Ø§Ø¯ Ø§Ù„Ù…Ø³Ø¬Ù‘Ù„ÙŠÙ†
        const spReg = document.getElementById("sp-registered");
        if (spReg) spReg.textContent = String(records.length);

        // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ« (ØªÙ†Ø³ÙŠÙ‚ Ø³Ø¹ÙˆØ¯ÙŠ)
        const spLU = document.getElementById("sp-lastUpdate");
        const nowSA = new Date().toLocaleString("ar-SA");
        if (spLU) spLU.textContent = nowSA;

        // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ù…Ø­Ø¯Ù‘Ø«Ø©
        setChipState("sp-db", "ok", "Ù…Ø­Ø¯Ù‘Ø«Ø©");

        // Ø­Ø¶Ù‘Ø± Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø¨Ø­Ø«
        // ØªØ¬Ù‡ÙŠØ² Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø¨Ø­Ø« Ù…Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø±Ø´Ø¯ÙŠÙ† ÙˆØ£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†
        buildSearchSuggestions([...allMentorNames], records.map(x => x.traineeId).filter(Boolean));
        } catch (e) {
          console.error(e);
          await new Promise(res => setTimeout(res, GOOGLE_SHEETS_CONFIG.fallbackDelay));
          loadDemoData();
          setChipState("sp-db", "warn", "ØªØ¬Ø±ÙŠØ¨ÙŠØ©"); // â† Ø£Ø¶ÙÙ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø±
        }
    }

      async function initializeCoursesData() {
    const url = `https://docs.google.com/spreadsheets/d/${COURSES_CONFIG.sheetId}/export?format=csv&gid=${COURSES_CONFIG.gid}`;
    try {
      const res = await fetch(url, { cache: "no-store" });
      if (!res.ok) throw new Error("ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ÙˆØ±Ù‚Ø© Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª");
      const csv = await res.text();

      const rows = parseCSV(csv);
      if (!rows.length) throw new Error("Ù…Ù„Ù CSV Ù„Ù„Ù…Ù‚Ø±Ø±Ø§Øª ÙØ§Ø±Øº");

      // Ù…Ø·Ø§Ø¨Ù‚Ø© Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (Ù…Ø±Ù†Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
      const mapKey = (h) => normalize(h).replace(/[\s_]+/g,"").replace(/[^\u0600-\u06FFa-z0-9]/g,"");
      const header = rows[0].map(mapKey);
      const idx = (keys) => {
        const wanted = keys.map(mapKey);
        for (let i=0;i<header.length;i++) if (wanted.includes(header[i])) return i;
        return -1;
      };

      const col = {
        section:   idx(["Ø§Ù„Ø´Ø¹Ø¨Ù‡","Ø±Ù‚Ù…Ø§Ù„Ø´Ø¹Ø¨Ù‡","section","crn"]),
        course:    idx(["Ø§Ù„Ù…Ù‚Ø±Ø±","Ø§Ø³Ù…Ø§Ù„Ù…Ù‚Ø±Ø±","course","coursename"]),
        trainer:   idx(["Ø§Ù„Ù…Ø¯Ø±Ø¨","Ø§Ø³Ù…Ø§Ù„Ù…Ø¯Ø±Ø¨","trainer","instructor","teacher"]),
        channel:   idx(["Ø±Ø§Ø¨Ø·Ø§Ù„Ù‚Ù†Ø§Ù‡","Ø±Ø§Ø¨Ø·Ø§Ù„Ù‚Ù†Ø§Ø©","Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…","Ø±Ø§Ø¨Ø·Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…","telegram","grouplink"])
      };

      coursesBySection = {};
      sectionList = [];

      for (let r=1; r<rows.length; r++) {
        const row = rows[r];
        if (!row || !row.length) continue;

        const rec = {
          section:  getCell(row, col.section),
          course:   getCell(row, col.course),
          trainer:  getCell(row, col.trainer),
          channel:  getCell(row, col.channel)
        };

        if (!rec.section) continue;

        const key = normalize(rec.section);
        coursesBySection[key] = rec;       // Ù†ÙØªØ±Ø¶ Ø§Ù„Ø´Ø¹Ø¨Ø© ÙØ±ÙŠØ¯Ø©
        sectionList.push(rec.section);
      }

      buildCourseSuggestions(sectionList);
    } catch (e) {
      console.error("initializeCoursesData:", e);
      // Ù†Ø®Ù„ÙŠ Ø§Ù„Ù„ÙˆØ­Ø© ØªØ´ØªØºÙ„ Ø­ØªÙ‰ Ù„Ùˆ Ù…Ø§ ØªØ­Ù…Ù„Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      sectionList = [];
      coursesBySection = {};
    }
  }


      function buildCourseSuggestions(sections) {
      const input = document.getElementById("courseSection");
      input.addEventListener("input", debounce(updateCourseSuggestions, 180));
      input.addEventListener("focus", updateCourseSuggestions);
      document.addEventListener("click", (e) => {
        const box = document.getElementById("courseSearchSuggestions");
        if (!box) return;
        if (!box.contains(e.target) && e.target !== input) box.style.display = "none";
      });
    }

    function updateCourseSuggestions() {
      const term = normalize(document.getElementById("courseSection").value);
      const box = document.getElementById("courseSearchSuggestions");
      box.innerHTML = "";
      if (!term) { box.style.display = "none"; return; }

      const items = sectionList
        .filter(s => normalize(s).includes(term))
        .slice(0, 8)
        .map(s => ({ label: `ğŸ” Ø§Ù„Ø´Ø¹Ø¨Ø© ${s}`, value: s }));

      if (!items.length) { box.style.display = "none"; return; }

      for (const it of items) {
        const div = document.createElement("div");
        div.className = "suggestion-item";
        div.textContent = it.label;
        div.onclick = () => {
          document.getElementById("courseSection").value = it.value;
          box.style.display = "none";
        };
        box.appendChild(div);
      }
      box.style.display = "block";
    }


    function handleCourseSearch(sectionInput) {
      const key = normalize(sectionInput);
      const rec = coursesBySection[key] || null;

      const box = document.getElementById("courseResult");
      if (!rec) {
        box.style.display = "block";
        box.innerHTML = `
          <div class="message error" style="display:block">âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´Ø¹Ø¨Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù….</div>
        `;
        return;
      }

      box.style.display = "block";
      const channelHTML = rec.channel
        ? `<a class="clickable-info" href="${formatTelegram(rec.channel)}" target="_blank" rel="noopener">ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ù‚Ù†Ø§Ø©</a>`
        : `<span class="non-clickable">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù‚Ù†Ø§Ø©</span>`;

      box.innerHTML = `
        <div class="dept-head"><h4>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¨Ø­Ø« Ù„Ø´Ø¹Ø¨Ø©: ${escapeHtml(rec.section)}</h4></div>
        <div class="staff-card">
          <div class="staff-name">ğŸ“˜ Ø§Ù„Ù…Ù‚Ø±Ø±: ${escapeHtml(rec.course || "â€”")}</div>
          <div class="staff-contact">ğŸ‘¨â€ğŸ« Ø§Ù„Ù…Ø¯Ø±Ø¨: ${escapeHtml(rec.trainer || "â€”")}</div>
          <div class="staff-contact">ğŸ” Ø±Ù‚Ù… Ø§Ù„Ø´Ø¹Ø¨Ø©: ${escapeHtml(rec.section)}</div>
          <div class="staff-contact">ğŸ’¬ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…: ${channelHTML}</div>
        </div>
      `;
    }

    function formatTelegram(linkOrHandle) {
      const raw = (linkOrHandle || "").trim();
      if (!raw) return "#";
      if (/^https?:\/\//i.test(raw)) return raw;
      const handle = raw.replace(/^@+/, "");
      return `https://t.me/${handle}`;
    }

    function escapeHtml(s) {
      return String(s || "").replace(/[&<>"']/g, m =>
        ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }


    /* ===== Ø£Ø¯ÙˆØ§Øª CSV Ø¨Ø³ÙŠØ·Ø© ØªØ¯Ø¹Ù… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù‚ØªØ¨Ø³Ø© ===== */
    function parseCSV(text) {
      const rows = [];
      let row = [];
      let cur = "";
      let inQuotes = false;

      for (let i = 0; i < text.length; i++) {
        const c = text[i];
        if (inQuotes) {
          if (c === '"') {
            if (text[i+1] === '"') { cur += '"'; i++; }
            else { inQuotes = false; }
          } else {
            cur += c;
          }
        } else {
          if (c === '"') inQuotes = true;
          else if (c === ",") { row.push(cur); cur = ""; }
          else if (c === "\n") { row.push(cur); rows.push(row); row = []; cur = ""; }
          else if (c === "\r") { /* ignore */ }
          else cur += c;
        }
      }
      row.push(cur);
      rows.push(row);
      // Ø¥Ø²Ø§Ù„Ø© ØµÙÙˆÙ ÙØ§Ø±ØºØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
      return rows.filter(r => r.some(x => (x || "").trim() !== ""));
    }
    function getCell(row, idx) { return idx >= 0 && idx < row.length ? (row[idx] || "").trim() : ""; }

    /* ====== Ø£Ø¯ÙˆØ§Øª Ø¹Ø§Ù…Ø© ====== */
    function normalize(s) {
      return String(s || "")
        .toLowerCase()
        .replace(/[Ù‹ÙŒÙÙÙÙÙ‘Ù’~`^]/g, "")
        .replace(/[Ø§Ø¥Ø£Ø¢]/g, "Ø§")
        .replace(/Ù‰/g, "ÙŠ")
        .replace(/Ø©/g, "Ù‡")
        .replace(/\s+/g, " ")
        .trim();
    }
    function cleanHandle(h) {
      h = (h || "").trim();
      if (!h) return "";
      if (h.startsWith("@")) return h;
      if (/t\.me\/|telegram\.me\//i.test(h)) {
        const m = h.match(/(?:t\.me|telegram\.me)\/([^\/\s]+)/i);
        return m ? "@" + m[1] : h;
      }
      return "@" + h.replace(/^@+/, "");
    }

    /* ====== Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø¨Ø­Ø« ====== */
    let suggestionPool = { mentors: [], ids: [] };
    function buildSearchSuggestions(mentors, ids) {
      suggestionPool.mentors = mentors.filter(Boolean).sort();
      suggestionPool.ids = ids.filter(Boolean);
      const input = document.getElementById("traineeId");
      input.addEventListener("input", debounce(updateSuggestions, 180));
      input.addEventListener("focus", updateSuggestions);
      document.addEventListener("click", (e) => {
        const box = document.getElementById("searchSuggestions");
        if (!box.contains(e.target) && e.target !== input) box.style.display = "none";
      });
    }

    function updateSuggestions() {
      const term = normalize(document.getElementById("traineeId").value);
      const box = document.getElementById("searchSuggestions");
      box.innerHTML = "";
      if (!term) { box.style.display = "none"; return; }

      const m = suggestionPool.mentors
        .filter(n => normalize(n).includes(term))
        .slice(0, 6)
        .map(n => ({ type: "mentor", label: `ğŸ‘¨â€ğŸ« ${n}`, value: n }));

      const ids = suggestionPool.ids
        .filter(id => normalize(id).includes(term))
        .slice(0, 6)
        .map(id => ({ type: "id", label: `ğŸ†” ${maskId(id)}`, value: id }));

      const items = [...m, ...ids].slice(0, 8);
      if (!items.length) { box.style.display = "none"; return; }

      for (const it of items) {
        const div = document.createElement("div");
        div.className = "suggestion-item";
        div.textContent = it.label;

        if (it.type === "mentor") {
          div.onclick = () => {
            document.getElementById("traineeId").value = it.value;
            box.style.display = "none";
          };
        } else {
          div.classList.add("disabled");
          div.setAttribute("aria-disabled","true");
        }

        box.appendChild(div);
      }
      box.style.display = "block";
    }

    function maskId(id) {
      id = String(id || "");
      if (id.length <= 3) return id;
      if (id.length <= 5) return id.slice(0,3) + "****";
      return id.slice(0,3) + "******" + id.slice(-2);
    }

    function debounce(fn, wait=200) {
      let t; return (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), wait); };
    }

    /* ====== ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†ØµØ§Ø¦Ø­ ====== */
    function startTickerRotation() {
      const el = document.getElementById("tickerText");
      const durStr = getComputedStyle(el).animationDuration; // Ù…Ø«Ù„ "30s"
      const durMs = durStr.endsWith("ms") ? parseFloat(durStr) : parseFloat(durStr) * 1000;

      let i = 0;

      // Ø§Ø¨Ø¯Ø£ Ø¨Ø£ÙˆÙ„ Ù†ØµÙŠØ­Ø© ÙÙˆØ±Ù‹Ø§ + Ø£Ø¹Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
      el.style.animation = "none";
      void el.offsetWidth; // force reflow
      el.textContent = tips[i];
      el.style.animation = "";

      function nextTip() {
        i = (i + 1) % tips.length;

        el.style.animation = "none";
        void el.offsetWidth;          // reset
        el.textContent = tips[i];     // ØºÙŠÙ‘Ø± Ø§Ù„Ù†Øµ
        el.style.animation = "";      // Ø´ØºÙ‘Ù„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©

        setTimeout(nextTip, durMs);   // Ø¨Ø¯Ù‘Ù„ Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ®Ù„Øµ Ø§Ù„Ø¯ÙˆØ±Ø©
      }

      setTimeout(nextTip, durMs); // Ø£ÙˆÙ„ ØªØ¨Ø¯ÙŠÙ„ Ø¨Ø¹Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø£ÙˆÙ„ Ø¯ÙˆØ±Ø©
    }

    function startQualityTipsRotation() {
      const el = document.getElementById("qualityTipText");
      let i = 0;
      const tick = () => {
        el.style.opacity = 0;
        setTimeout(() => {
          el.textContent = qualityTips[i];
          el.style.opacity = 1;
          i = (i + 1) % qualityTips.length;
        }, 250);
      };
      tick();
      setInterval(tick, 5000);
    }




    /* ====== Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø§Ù…Ø© ====== */
    function showMessage(type, text) {
      const ids = { success: "successMsg", error: "errorMsg", warning: "warningMsg" };
      Object.values(ids).forEach(id => {
        const el = document.getElementById(id);
        el.style.display = "none"; el.textContent = "";
      });
      const el = document.getElementById(ids[type] || "successMsg");
      el.textContent = text;
      el.style.display = "block";
      setTimeout(() => { el.style.display = "none"; }, 4500);
    }

    /* ====== Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯ ====== */
    function fillTrainerInfo(rec) {
      document.getElementById("mentorName").textContent = rec.mentorName || "â€”";
      document.getElementById("trainerOffice").textContent = rec.office || "â€”";

      const tgC = document.getElementById("trainerAccountContainer");
      tgC.innerHTML = "";
      if (rec.telegram) {
        const a = document.createElement("a");
        a.href = formatTelegram(rec.telegram);
        a.target = "_blank"; a.rel = "noopener"; a.textContent = rec.telegram;
        a.className = "clickable-info";
        tgC.appendChild(a);
      } else {
        tgC.textContent = "â€”";
      }

      


      const emC = document.getElementById("trainerEmailContainer");
      emC.innerHTML = "";
      if (rec.email) {
        const a = document.createElement("a");
        a.href = `mailto:${rec.email}`;
        a.textContent = rec.email;
        a.className = "clickable-info";
        emC.appendChild(a);
      } else {
        emC.textContent = "â€”";
      }

      const link = document.getElementById("mentorGroupLink");
      const no = document.getElementById("noMentorGroup");
      if (rec.group) {
        link.href = rec.group;
        link.style.display = "inline-block";
        no.style.display = "none";
      } else {
        link.style.display = "none";
        no.style.display = "inline";
      }

      document.getElementById("trainerInfo").style.display = "block";
    }

    /* ====== Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ====== */
    function updateSystemStats() {
      // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ« (ØªØ¹Ø±ÙŠÙ Ø¹Ø§Ù… Ø£ÙˆÙ„ÙŠ â€“ Ù‚Ø¨Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª)
      const spLU = document.getElementById("sp-lastUpdate");
      if (spLU) spLU.textContent = new Date().toLocaleString("ar-SA");

      // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…: Ù…ØªØµÙ„
      setChipState("sp-system", "ok", "Ù…ØªØµÙ„");
      // Ø­Ø§Ù„Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ­Ø¯Ù‘Ø« Ø¯Ø§Ø®Ù„ initializeData / loadDemoData
    }


      // Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ (ok | warn | err)
      function setChipState(elId, state, label){
        const el = document.getElementById(elId);
        if(!el) return;
        el.setAttribute("data-state", state);
        if(label) el.textContent = label;
      }
      // Ø£Ù…Ø«Ù„Ø©:
      setChipState("sp-system", "ok",   "Ù…ØªØµÙ„");
      setChipState("sp-db",     "ok",   "Ù…Ø­Ø¯Ù‘Ø«Ø©");
      // setChipState("sp-db", "warn", "ØªØ¬Ø±ÙŠØ¨ÙŠØ©");
      // setChipState("sp-system", "err", "Ù…ØªÙˆÙ‚Ù‘Ù");

      // Ø²ÙˆØ§Ø± Ø§Ù„ÙŠÙˆÙ… + ØªØ±Ù†Ø¯
      function updateToday(todayCount, prevCount){
        const nEl = document.getElementById("sp-todayNum");
        const tEl = document.getElementById("sp-trend");
        if (!nEl || !tEl) return;
        nEl.textContent = Number(todayCount||0).toLocaleString("ar-SA");
        tEl.classList.remove("up","down","flat");
        if (prevCount == null || todayCount === prevCount){ tEl.textContent = "â†’"; tEl.classList.add("flat"); }
        else if (todayCount > prevCount){ tEl.textContent = "â†‘"; tEl.classList.add("up"); }
        else { tEl.textContent = "â†“"; tEl.classList.add("down"); }
      }


    function toggleMentorSearch(force){
      const card = document.getElementById("mentorSearchCard");
      const show = (typeof force === "boolean") ? force : (card.style.display !== "block");
      card.style.display = show ? "block" : "none";

      // Ø£ØºÙ„Ù‚ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø®ÙØ§Ø¡
      if (!show) {
        const box = document.getElementById("searchSuggestions");
        if (box) box.style.display = "none";
      }

      if (show){
        const input = document.getElementById("traineeId");
        if (input) input.focus({ preventScroll: true });
        card.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }



    document.getElementById("qi-voice")?.addEventListener("click", () => {
      if (!VOICE_URL) return alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ù†Ù…ÙˆØ°Ø¬ ØµÙˆØªÙƒ Ù…Ø³Ù…ÙˆØ¹ Ø¨Ø¹Ø¯.");
      window.open(VOICE_URL, "_blank", "noopener");
    });

    /* ====== Ø£Ø­Ø¯Ø§Ø« ÙˆÙˆØ§Ø¬Ù‡Ø§Øª ====== */
    function setupEventListeners() {
      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
      document.getElementById("themeToggle").addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        document.getElementById("themeToggle").textContent =
          document.body.classList.contains("dark-mode") ? "â˜€ï¸" : "ğŸŒ™";
      });

      // Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø± â†” Ø§Ù„Ù„ÙˆØ­Ø§Øª (Ø¹Ø±Ù‘ÙÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)
      const panels = {
        "qi-guidance": "guidancePanel",
        "qi-departments": "departmentsPanel",
        "qi-quality": "qualityPanel",
        "qi-nums": "numberPanel",
        "qi-library": "libraryPanel",
        "qi-studentsAffairs":"studentsAffairsPanel",
        "qi-courses": "coursesPanel",
        "qi-support": "supportPanel",
        "qi-contact": "contactPanel",
        "qi-rafed": "rafedPanel"
      };

      // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¨Ø­Ø« Ø§Ù„Ù…Ø±Ø´Ø¯
      document.getElementById("qi-mentor").addEventListener("click", () => {
        // Ø§Ø®ÙÙ Ø§Ù„Ù„ÙˆØ­Ø§Øª ÙƒÙ„Ù‡Ø§
        [
          "initiativeBox","rafedPanel","guidancePanel","departmentsPanel","qualityPanel",
          "numberPanel","libraryPanel","coursesPanel","supportPanel","contactPanel",
          "studentsAffairsPanel","searchBox" // ğŸ‘ˆ Ù…Ù‡Ù…
        ].forEach(id => { const el = document.getElementById(id); if (el) el.style.display = "none"; });

        clearSearchUI();
        toggleMentorSearch(true); // Ø¥Ø¸Ù‡Ø§Ø± Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙ‚Ø·
      });


      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© (Ø£Ø®ÙÙ ÙƒØ±Øª Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„)
      Object.entries(panels).forEach(([btnId, panelId]) => {
        document.getElementById(btnId).addEventListener("click", () => {
          clearSearchUI();
          toggleMentorSearch(false);
          togglePanel(panelId);
        });
      });

      // ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
      document.querySelectorAll(".dept-tab").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".dept-tab").forEach(b => b.classList.remove("active"));
          document.querySelectorAll(".dept-content").forEach(c => c.classList.remove("active"));
          btn.classList.add("active");
          document.getElementById(btn.dataset.dept).classList.add("active");
        });
      });

      // Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø­Ø« Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª
      document.getElementById("courseForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const s = document.getElementById("courseSection").value.trim();
        if (!s) { showMessage("warning","Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ø´Ø¹Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹"); return; }
        handleCourseSearch(s);
      });

      document.getElementById("courseSection").addEventListener("input", () => {
        const box = document.getElementById("courseResult");
        box.style.display = "none"; box.innerHTML = "";
      });

      // Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø­Ø« Ø§Ù„Ù…Ø±Ø´Ø¯
      document.getElementById("traineeForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const q = document.getElementById("traineeId").value.trim();
        if (!q) { showMessage("warning","Ø§ÙƒØªØ¨ Ø±Ù‚Ù…Ùƒ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯ Ø£ÙˆÙ„Ø§Ù‹"); return; }
        handleSearch(q);
      });

      // ESC Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          clearSearchUI();
          const box = document.getElementById("courseResult");
          box.style.display = "none"; box.innerHTML = "";
        }
      });

      document.getElementById("traineeId").addEventListener("input", () => clearSearchUI());
    }

    

      function togglePanel(panelId) {
        [
          "initiativeBox",
          "rafedPanel",
          "guidancePanel",
          "departmentsPanel",
          "qualityPanel",
          "numberPanel",
          "libraryPanel",
          "coursesPanel",
          "supportPanel",
          "contactPanel",
          "studentsAffairsPanel", // âœ… Ø¬Ø¯ÙŠØ¯
          "searchBox" 
        ].forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
          el.style.display = (id === panelId)
            ? (el.style.display === "block" ? "none" : "block")
            : "none";
        });
      }




      /* ====== Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø­Ø« ====== */
      function handleSearch(query) {
        const qn = normalize(query);
        let rec = null;

        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø±Ù‚Ù… Ù…ØªØ¯Ø±Ø¨ (3 Ø£Ø±Ù‚Ø§Ù… ÙØ£ÙƒØ«Ø±)
        if (/^\d{3,}$/.test(query.replace(/\s/g, ""))) {
          rec = trainersData["id:" + normalize(query)] || null;
        }

        // Ø¥Ø°Ø§ Ù…Ø§ Ù„Ù‚Ù‰ØŒ Ø¬Ø±Ù‘Ø¨ Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯
        if (!rec) {
          const list = trainersData["mentor:" + qn];
          if (Array.isArray(list) && list.length) {
            rec = list[0]; // Ù†Ø¹Ø±Ø¶ Ø£ÙˆÙ„ Ù†ØªÙŠØ¬Ø©
            if (list.length > 1) {
              showMessage("warning", `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${list.length} Ù…ØªØ¯Ø±Ø¨(ÙŠÙ†) Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø±Ø´Ø¯ØŒ Ø¹ÙØ±Ø¶Øª Ø£ÙˆÙ„ Ù†ØªÙŠØ¬Ø© ÙÙ‚Ø·`);
            }
          }
        }

        // Ø¥Ø°Ø§ Ù…Ø§ ÙˆØ¬Ø¯ Ø£ÙŠ Ù†ØªÙŠØ¬Ø©
        if (!rec) {
          showMessage("error", "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬. ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø¯ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.");
          return;
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ù„ÙˆØ­Ø§Øª Ù…ÙØªÙˆØ­Ø© (Ø¹Ù„Ø´Ø§Ù† ÙŠØ¨Ø±Ø² ÙÙ‚Ø· Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø±Ø´Ø¯)
        ["guidancePanel","departmentsPanel","qualityPanel","numberPanel","libraryPanel","supportPanel","contactPanel"]
          .forEach(id => {
            const el = document.getElementById(id);
            if (el) el.style.display = "none";
          });

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        fillTrainerInfo(rec);
        showMessage("success", "âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø´Ø¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ");

        // ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø±Ø´Ø¯
        document.getElementById("trainerInfo").scrollIntoView({ behavior: "smooth", block: "start" });
      }


        /* ====== ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø­Ø« (Ø¹Ø§Ù…) ====== */
    function clearSearchUI({ clearInput = false } = {}) {
      const card = document.getElementById("trainerInfo");
      if (card) card.style.display = "none";

      ["successMsg","errorMsg","warningMsg"].forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        el.style.display = "none";
        el.textContent = "";
      });

      const box = document.getElementById("searchSuggestions");
      if (box) box.style.display = "none";

      if (clearInput) {
        const inp = document.getElementById("traineeId");
        if (inp) inp.value = "";
      }
    }


    /* ====== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§Ø± Ø¥Ù„ÙŠÙ‡Ø§ ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ====== */
    function openWhatsApp(number) {
      const digits = String(number||"").replace(/\D+/g,""); // 9665...
      if (!digits) return;
      window.open(`https://wa.me/${digits}`, "_blank", "noopener");
    }
    function openTelegram(handle) {
      const url = `https://t.me/${handle.replace("@","")}`;
      window.open(url, "_blank","noopener");
    }
    function showForms() { alert("Ù†Ù…Ø§Ø°Ø¬ Ø¥Ø±Ø´Ø§Ø¯ÙŠØ©: (Ù†Ù…ÙˆØ°Ø¬ Ø§Ø¹ØªØ°Ø§Ø±ØŒ ØªØ­ÙˆÙŠÙ„ Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ØŒ Ø·Ù„Ø¨ Ø¯Ø¹Ù…...)\nâ€” Ø£Ø¶Ù Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù‡Ù†Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§."); }
        function showCalendar() {
      if (!ACADEMIC_CALENDAR_URL) {
        alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø¨Ø¹Ø¯.");
        return;
      }
      window.open(ACADEMIC_CALENDAR_URL, "_blank", "noopener");
    }

     function showReferences(){
    if (!REFERENCES_URL) {
      alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹/Ø§Ù„Ø®Ø·Ø· Ø¨Ø¹Ø¯.");
      return;
    }
    window.open(REFERENCES_URL, "_blank", "noopener");
  }

      function showLibrary() {
      if (!DIGITAL_LIBRARY_URL) {
        alert("Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø¹Ø¯.");
        return;
      }
      window.open(DIGITAL_LIBRARY_URL, "_blank", "noopener");
      }

    function showEmergency() { alert("Ø§Ù„Ø·ÙˆØ§Ø±Ø¦: 997 Ø¥Ø³Ø¹Ø§Ù | 998 Ø¯ÙØ§Ø¹ Ù…Ø¯Ù†ÙŠ | 999 Ø´Ø±Ø·Ø©\nâ€” Ø£Ø¶Ù Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ù„Ù„ÙƒÙ„ÙŠØ©."); }

    /* ====== Ù…Ø´Ø§Ø±ÙƒØ©/Ø·Ø¨Ø§Ø¹Ø©/Ø­ÙØ¸ ====== */
    function shareTrainerInfo() {
      const name = document.getElementById("mentorName").textContent || "";
      const office = document.getElementById("trainerOffice").textContent || "";
      const tg = (document.getElementById("trainerAccountContainer").innerText || "").trim();
      const email = (document.getElementById("trainerEmailContainer").innerText || "").trim();
      const text = `Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯:\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ§Ù„Ù…ÙƒØªØ¨: ${office}\nØ§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…: ${tg}\nØ§Ù„Ø¨Ø±ÙŠØ¯: ${email}`;

      if (navigator.share) {
        navigator.share({ title: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø¯", text }).catch(()=>copyText(text));
      } else {
        copyText(text);
      }
    }
    function copyText(t) {
      navigator.clipboard?.writeText(t);
      showMessage("success","ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø© ğŸ“‹");
    }
    function printTrainerInfo(){ window.print(); }

    function saveToContacts() {
      const n = (document.getElementById("mentorName").textContent || "").trim();
      const e = (document.getElementById("trainerEmailContainer").innerText || "").trim();
      const tg = (document.getElementById("trainerAccountContainer").innerText || "").trim();
      const off = (document.getElementById("trainerOffice").textContent || "").trim();

      const vcf = [
        "BEGIN:VCARD",
        "VERSION:3.0",
        `FN:${n}`,
        e ? `EMAIL;TYPE=INTERNET:${e}` : "",
        tg ? `X-SOCIALPROFILE;type=telegram:${tg.replace("@","")}` : "",
        off ? `NOTE:Ø§Ù„Ù…ÙƒØªØ¨ ${off}` : "",
        "END:VCARD"
      ].filter(Boolean).join("\n");

      const blob = new Blob([vcf], { type: "text/vcard;charset=utf-8" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = `${n || "mentor"}.vcf`;
      document.body.appendChild(a);
      a.click();
      a.remove();
    }

    /* ====== Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© ÙÙŠ Ø­Ø§Ù„ Ø§Ù„ÙØ´Ù„ ====== */
    function loadDemoData() {
      const demo = [
        { traineeId: "1234567", traineeName: "Ø®Ø§Ù„Ø¯ ØµØ§Ù„Ø­", mentorName: "Ù…. Ø£Ø­Ù…Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ", office: "205", telegram: "@ahmad_trainer", email: "ahmad.z@tvtc.gov.sa", group: "https://t.me/+demo_it_group", dept: "Ø§Ù„Ø­Ø§Ø³Ø¨" },
        { traineeId: "7654321", traineeName: "Ø³Ø¹ÙˆØ¯ Ù…Ø­Ù…Ø¯", mentorName: "Ù…. Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ", office: "305", telegram: "@khalid_electronics", email: "khalid.d@tvtc.gov.sa", group: "", dept: "Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª" },
        { traineeId: "2468101", traineeName: "ØªØ±ÙƒÙŠ Ø¹Ù„ÙŠ", mentorName: "Ø£. Ø±ÙŠÙ… Ø§Ù„Ø£Ø­Ù…Ø¯ÙŠ", office: "405", telegram: "@reem_arabic", email: "reem.a@tvtc.gov.sa", group: "https://t.me/+demo_general_group", dept: "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©" }
      ];

      trainersData = {};
      const names = new Set();
      demo.forEach(rec => {
        trainersData["id:" + normalize(rec.traineeId)] = rec;
        const mkey = "mentor:" + normalize(rec.mentorName);
        if (!trainersData[mkey]) trainersData[mkey] = [];
        trainersData[mkey].push(rec);
        names.add(rec.mentorName);
      });

      isDataLoaded = true;

      // Stats Pro
      const spReg = document.getElementById("sp-registered");
      if (spReg) spReg.textContent = String(demo.length);

      const spLU = document.getElementById("sp-lastUpdate");
      if (spLU) spLU.textContent = new Date().toLocaleString("ar-SA");

      setChipState("sp-db", "warn", "ØªØ¬Ø±ÙŠØ¨ÙŠØ©");

      buildSearchSuggestions([...names], demo.map(x => x.traineeId));
      showMessage("warning","ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©.");
    }

          /* ====== Service Worker (ØªØ³Ø¬ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ø¥Ø°Ø§ ØªÙˆÙÙ‘Ø± Ù…Ù„Ù) ====== */
          function setupServiceWorker() {
            if ("serviceWorker" in navigator) {
              // Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªØ·Ù„Ø¨ Ù…Ù„Ù SW Ø­Ù‚ÙŠÙ‚ÙŠ (sw.js). Ø¥Ù† Ù„Ù… ÙŠÙˆØ¬Ø¯ØŒ Ù†ØªØ¬Ø§ÙˆØ² Ø¨Ù‡Ø¯ÙˆØ¡.
              navigator.serviceWorker.register("sw.js").catch(() => {
                console.info("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ sw.js â€” ØªØ®Ø·Ù‘ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„.");
              });
            }
          }


  function initTipsKPI(options){
    const {
      tips,            // Ù…ØµÙÙˆÙØ© Ø§Ù„Ù†ØµØ§Ø¦Ø­
      textEl,          // Ø¹Ù†ØµØ± Ø§Ù„Ù†Øµ (Ù…Ø«Ù„Ø§Ù‹: document.querySelector('#qualityPanel #tipsKPIText'))
      barEl,           // Ø¹Ù†ØµØ± Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… (Ù…Ø«Ù„Ø§Ù‹: document.querySelector('#qualityPanel #tipsKPIBar'))
      duration = 6000, // Ù…Ø¯Ø© Ø¹Ø±Ø¶ ÙƒÙ„ Ù†ØµÙŠØ­Ø© (Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
      mirrorTopBar = true // Ù‡Ù„ Ù†Ø²Ø§Ù…Ù† Ø´Ø±ÙŠØ·Ø§Ù‹ Ø¹Ù„ÙˆÙŠØ§Ù‹ Ø§Ø®ØªÙŠØ§Ø±ÙŠØ§Ù‹ (#tipsKPIBarTop)
    } = options || {};

    if (!Array.isArray(tips) || !tips.length || !textEl || !barEl) return;

    // Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ø§Ø®ØªÙŠØ§Ø±ÙŠ (Ø¥Ù† ÙˆÙØ¬Ø¯)
    const topBar = mirrorTopBar ? document.getElementById('tipsKPIBarTop') : null;
    if (topBar) {
      topBar.style.display = 'block'; // Ø£Ø¸Ù‡Ø±Ù‡ Ø¥Ù† ÙƒØ§Ù† Ù…Ø®ÙÙŠØ§Ù‹
    }

    // Ø§Ø­ØªØ±Ø§Ù… ØªÙØ¶ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ©
    const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    let index = 0;
    let tickTimer = null;
    let pctTimer  = null;

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ù…Ø· Ù„Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù‘Ù…
    function resetBar(targetBar){
      if (!targetBar) return;
      targetBar.style.transition = 'none';
      targetBar.style.width = '0%';
      targetBar.textContent = 'â€”';
      targetBar.setAttribute('aria-valuemin','0');
      targetBar.setAttribute('aria-valuemax','100');
      targetBar.setAttribute('aria-valuenow','0');
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙÙ‘Ù‚ Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·
      void targetBar.offsetWidth;
    }

    function animateBar(targetBar){
      if (!targetBar) return;
      targetBar.textContent = ''; // Ù†Ø¬Ø¹Ù„ Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø±ÙŠØ· ÙØ§Ø±ØºØ§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚Ø¯Ù‘Ù…
      targetBar.style.transition = prefersReducedMotion ? 'none' : `width ${duration}ms linear`;
      // Ø§Ø³ØªØ®Ø¯Ù… requestAnimationFrame Ù„Ø¶Ù…Ø§Ù† Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø±ÙŠÙƒ Ø¨Ø¹Ø¯ Ø§Ù„Ø¶Ø¨Ø·
      requestAnimationFrame(() => {
        targetBar.style.width = '100%';
      });
    }

    function updatePctEvery(barA, barB){
      // Ù…Ø­Ø¯Ù‘Ø« Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… (Ù„Ø¥ØªØ§Ø­Ø© aria-valuenow)
      const start = performance.now();
      clearInterval(pctTimer);
      pctTimer = setInterval(() => {
        const elapsed = performance.now() - start;
        let p = Math.min(100, Math.max(0, Math.round((elapsed / duration) * 100)));
        if (prefersReducedMotion) p = 100;
        [barA, barB].forEach(b => {
          if (!b) return;
          b.setAttribute('aria-valuenow', String(p));
        });
        if (elapsed >= duration || prefersReducedMotion) {
          clearInterval(pctTimer);
        }
      }, 100);
    }

    function showTip(){
      // Ø£Ø®ÙÙ Ø§Ù„Ù†Øµ Ù„Ù„Ø­Ø¸Ø© Ù„Ø¹Ù…Ù„ ØªØ£Ø«ÙŠØ± Ù„Ø·ÙŠÙ
      textEl.style.opacity = '0';

      // Ø£Ø¹Ø¯ Ø¶Ø¨Ø· Ø§Ù„Ø£Ø´Ø±Ø·Ø©
      resetBar(barEl);
      if (topBar) resetBar(topBar);

      // Ø¨Ø¯Ù‘Ù„ Ø§Ù„Ù†Øµ Ø¨Ø¹Ø¯ Ø®ÙÙˆØª Ø¨Ø³ÙŠØ·
      setTimeout(() => {
        textEl.textContent = tips[index];
        textEl.style.opacity = '1';

        // Ø­Ø±Ù‘Ùƒ Ø§Ù„Ø£Ø´Ø±Ø·Ø©
        animateBar(barEl);
        if (topBar) animateBar(topBar);

        // Ø­Ø¯Ù‘Ø« Ø§Ù„Ù†Ø³Ø¨Ø© Ø¯Ø§Ø®Ù„ÙŠØ§Ù‹ (Ù„Ù„Ù€ ARIA)
        updatePctEvery(barEl, topBar);

        // Ø¬Ù‡Ù‘Ø² Ø§Ù„Ù†Øµ Ø§Ù„ØªØ§Ù„ÙŠ
        index = (index + 1) % tips.length;

        // Ø§Ø¶Ø¨Ø· Ø§Ù„Ù…Ø¤Ù‚Ù‘Øª Ù„Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        clearTimeout(tickTimer);
        tickTimer = setTimeout(showTip, duration);
      }, 200);
    }

    // Ø¨Ø¯Ø¡ Ø£ÙˆÙ„ Ù†ØµÙŠØ­Ø© ÙÙˆØ±Ø§Ù‹
    showTip();
  }


    /* ====== Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³ÙƒØ±Ø¨Øª ====== */
    </script>
<footer class="site-footer">
  âš™ï¸ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ: 1.5 <br>
  &copy; 2025 Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø­Ù‚Ù„ <br>
  ØªØ·ÙˆÙŠØ±: ÙˆÙƒØ§Ù„Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© <br>
  "ğŸŒŸ Ù…Ø¹Ø§Ù‹ Ù†Ø­Ùˆ Ø¬ÙˆØ¯Ø© Ù…Ø³ØªØ¯Ø§Ù…Ø© ğŸŒŸ"
</footer>

<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø³Ø© -->
<div id="consentBar" class="consent-bar">
  <div class="consent-content">
    <p class="consent-text">
      Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØµØ©ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ 
      <a href="privacy-terms.html" target="_blank" class="consent-link">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>
    </p>
    <button onclick="acceptConsent()" class="consent-btn">ÙÙ‡Ù…Øª âœ“</button>
  </div>
</div>

<style>
.consent-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #003366 0%, #0070C0 100%);
  color: white;
  padding: 15px 20px;
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
  z-index: 10000;
  animation: slideUp 0.5s ease-out;
  display: none;
}

.consent-bar.show {
  display: block;
}

.consent-content {
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  flex-wrap: wrap;
}

.consent-text {
  margin: 0;
  font-size: 1rem;
  line-height: 1.5;
  flex: 1;
  min-width: 250px;
}

.consent-link {
  color: #ffd43b;
  text-decoration: underline;
  font-weight: 600;
  transition: color 0.3s ease;
}

.consent-link:hover {
  color: #ffe066;
}

.consent-btn {
  background: white;
  color: #003366;
  border: none;
  padding: 12px 30px;
  border-radius: 25px;
  font-size: 1.05rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: inherit;
  white-space: nowrap;
}

.consent-btn:hover {
  background: #ffd43b;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.consent-btn:active {
  transform: translateY(0);
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
@media (max-width: 600px) {
  .consent-content {
    flex-direction: column;
    text-align: center;
  }
  
  .consent-text {
    font-size: 0.9rem;
  }
  
  .consent-btn {
    width: 100%;
    padding: 14px;
  }
}

/* Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
body.dark-mode .consent-bar {
  background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
  border-top: 1px solid #444;
}

body.dark-mode .consent-link {
  color: #4fc3f7;
}

body.dark-mode .consent-link:hover {
  color: #81d4fa;
}
</style>

<script>
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
function checkConsent() {
  const hasConsent = localStorage.getItem('userConsent');
  if (!hasConsent) {
    const bar = document.getElementById('consentBar');
    if (bar) {
      bar.classList.add('show');
    }
  }
}

// Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
function acceptConsent() {
  localStorage.setItem('userConsent', 'true');
  const bar = document.getElementById('consentBar');
  if (bar) {
    bar.style.animation = 'slideDown 0.4s ease-out';
    setTimeout(() => {
      bar.classList.remove('show');
      bar.style.display = 'none';
    }, 400);
  }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ­Øµ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.addEventListener('load', checkConsent);
</script>

<style>
@keyframes slideDown {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(100%);
    opacity: 0;
  }
}
</style>

    </body>
    </html>
